(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"003a":function(t,e,a){t.exports=a.p+"img/sort-icon.dc009b5c.svg"},"00d3":function(t,e,a){},"022b":function(t,e,a){},"06d2":function(t,e,a){},"06fc":function(t,e,a){},"07a6":function(t,e){t.exports="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCADIAMgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD8qqKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoor98f2B/hD4E1/9j/4Y6hqngrw7qV/PprNNdXelQSyyHzpBlnZCScAdTQB+B1Ff03/8KJ+Gv/RPPCn/AIJLb/4ivxZ/4Kw+GdH8JftZz2Gh6TY6NYjRLJxa6fbJBFuO/J2oAMn1oA+NqKKKACiiigAoor7J/wCCT3hnR/Fn7WcFhrmk2Os2J0S9c2uoWyTxbhswdrgjI9aAPjaiv6b/APhRPw1/6J54U/8ABJbf/EV4D+3x8IfAmgfsf/E7UNL8FeHdNv4NNVobq00qCKWM+dGMq6oCDgnoaAPwOooooAKKKKACiiigAooooAKKKKACiiigAooooAK/oe/4J4/8mW/Cr/sGP/6Plr+eGv6Hv+CeP/Jlvwq/7Bj/APo+WgD6Kr8Mv+CwP/J4dx/2AbH/ANqV+5tfhl/wWB/5PDuP+wDY/wDtSgD4kooooAKKKKACvtv/AII/f8nh2/8A2Ab7/wBp18SV9t/8Efv+Tw7f/sA33/tOgD9za+df+Ch3/JlvxV/7Bif+j4q+iq+df+Ch3/JlvxV/7Bif+j4qAP54aKKKACiiigAooooAKKKKACiiigAooooAKKKKACv6Hv8Agnj/AMmW/Cr/ALBj/wDo+Wv54a/oe/4J4/8AJlvwq/7Bj/8Ao+WgD6Kr8Mv+CwP/ACeHcf8AYBsf/alfubX4Zf8ABYH/AJPDuP8AsA2P/tSgD4kooooAKKKKACvtv/gj9/yeHb/9gG+/9p18SV9t/wDBH7/k8O3/AOwDff8AtOgD9za+df8Agod/yZb8Vf8AsGJ/6Pir6Kr51/4KHf8AJlvxV/7Bif8Ao+KgD+eGiiigAooooAKKKKACiiigAooooAKKKKACiiigAr+h7/gnj/yZb8Kv+wY//o+Wv54a/oe/4J4/8mW/Cr/sGP8A+j5aAPoqvwy/4LA/8nh3H/YBsf8A2pX7m1+GX/BYH/k8O4/7ANj/AO1KAPiSiiigAooooAK+2/8Agj9/yeHb/wDYBvv/AGnXxJX23/wR+/5PDt/+wDff+06AP3Nr51/4KHf8mW/FX/sGJ/6Pir6Kr51/4KHf8mW/FX/sGJ/6PioA/nhooooAKKKKACiiigAooooAKKKKACiiigAooooAK/oe/wCCeP8AyZb8Kv8AsGP/AOj5a/nhr+h7/gnj/wAmW/Cr/sGP/wCj5aAPoqvwy/4LA/8AJ4dx/wBgGx/9qV+5tfhl/wAFgf8Ak8O4/wCwDY/+1KAPiSiiigAooooAK+2/+CP3/J4dv/2Ab7/2nXxJXvf7E37SGm/sr/G6Pxzquj3WuWi6dcWX2SzkWN8ybcNluMDbQB/RbXzr/wAFDv8Aky34q/8AYMT/ANHxV8v/APD73wP/ANE08Qf+BsFUNe/4KC+Hv279Hu/gJoXhPU/C+reOE/s+31jUbiOWC1Zf3xZ0T5iMREceooA/JCiv0t/4cg+M/wDop2hf+C+b/wCKrG8af8EZvF/gvwdr3iCb4j6JcxaTYT37wpYTBpFijZyoJPBO3FAH510UUUAFFFFABRRRQAUUUUAFFFFABRRRQAV/Q9/wTx/5Mt+FX/YMf/0fLX88Nfrl+yP/AMFMPgt8Gv2cPAvgvxHda2mt6PZNBdLbaaZIwxldvlbdzwwoA/Tavwy/4LA/8nh3H/YBsf8A2pX3r/w99/Z7/wCf3xF/4KD/APFV8tftGfs5+Lv+CkHxFPxj+DosbjwZNaRaSr63cfY7jz4N3mfu8Nx84wc80AfmpRX23/w5+/aC/wCffw1/4Nv/ALCvBf2kP2VPHX7K2s6NpnjlNOS61a3e5tv7PuvPXYjBTuOBg5NAHj1FFew/s3/sqeOv2qdZ1nTPAyac91pNulzc/wBoXXkLsdio2nBycigDx6ivtv8A4c/ftBf8+/hr/wAG3/2FedfHv/gnx8Wf2b/h/J4y8YxaMmjR3MVqTY3/AJ0m+TO35do44NAHzTX0b/wTq/5PV+Ff/YRk/wDSeWvnKvYP2QvifonwY/aR8C+NfEjzpoej3jzXTW0XmSBTDIg2r35YUAf0kVw3x2/5Ih8Q/wDsXdR/9JpK+YP+Hvv7Pf8Az++I/wDwUH/4quY+KP8AwVd+A3iz4Z+LdDsLzxAb7U9Iu7K3EmlFVMkkLouTu4GWHNAH4rUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFfuh/wSC/5M5sv+w5ff8AoSV+F9frl/wTP/a5+EHwa/ZhtfDnjTx1p/h/W01a7nazuUlLiNyu1vlQjnB70AfptX5Cf8Fvv+SmfDH/ALBF1/6OWvvH/h4d+zn/ANFV0f8A79z/APxuviD/AIKD+G9S/bv8WeEdc+Alq3xK0nQLGay1O60tljW2meQOiN5pQklQTxmgD8wK/S3/AIIg/wDJTPid/wBgi1/9HNXy/wD8O6v2jv8Aoleq/wDf+3/+O19Zf8E+PDepfsIeLPF2ufHu1b4a6Tr9jDZaZdaoyyLczJIXdF8ouQQpB5xQB+tNfE//AAV9/wCTOb3/ALDlj/6E9enf8PDv2c/+iq6P/wB+5/8A43Xyn/wUw/a5+EHxl/ZhuvDngvx1p/iDW31a0nWztklDmNC25vmQDjI70AfkbRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV+v3/BEL/klfxL/wCw1b/+iDX5A1+r3/BGj4heFfBfwy+IsPiDxLo+hTTavbvFHqd/FbtIohwSodhkZ7igD9Sq/NX/AILe/wDJK/hp/wBhq4/9ECvvH/he3w1/6KH4U/8AB3bf/F1+d3/BZf4heFfGfwy+HcPh/wATaPrs0Or3Dyx6ZfxXDRqYcAsEY4Ge5oA/KGiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/Z"},"0afe":function(t,e,a){},"0dd3":function(t,e,a){},"0e0c":function(t,e,a){"use strict";var s=a("ce26"),r=a.n(s);r.a},"14b1":function(t,e,a){"use strict";var s=a("8be5"),r=a.n(s);r.a},1926:function(t,e,a){},1927:function(t,e,a){},"1ad7":function(t,e,a){},"1e94":function(t,e,a){},"1f5e":function(t,e,a){"use strict";var s=a("987e"),r=a.n(s);r.a},"210d":function(t,e,a){"use strict";var s=a("022b"),r=a.n(s);r.a},"23d2":function(t,e,a){"use strict";var s=a("81b0"),r=a.n(s);r.a},2527:function(t,e,a){"use strict";var s=a("3985"),r=a.n(s);r.a},"255e":function(t,e,a){},2977:function(t,e,a){},"2b15":function(t,e,a){},"2d4f":function(t,e,a){},"2dab":function(t,e,a){},"2ef6":function(t,e,a){},3132:function(t,e,a){},"33ff":function(t,e,a){"use strict";var s=a("4494"),r=a.n(s);r.a},"34ff":function(t,e,a){"use strict";var s=a("48f4"),r=a.n(s);r.a},3682:function(t,e,a){"use strict";var s=a("1927"),r=a.n(s);r.a},"38a2":function(t,e,a){"use strict";var s=a("1ad7"),r=a.n(s);r.a},3945:function(t,e,a){},3958:function(t,e,a){"use strict";var s=a("ae58"),r=a.n(s);r.a},3985:function(t,e,a){},"3c51":function(t,e,a){},"3c88":function(t,e,a){},"422e":function(t,e,a){},4383:function(t,e,a){"use strict";var s=a("bf3f"),r=a.n(s);r.a},4415:function(t,e,a){"use strict";var s=a("1926"),r=a.n(s);r.a},4494:function(t,e,a){},"465e":function(t,e,a){},4722:function(t,e,a){},"48f4":function(t,e,a){},"4cae":function(t,e,a){"use strict";var s=a("3c88"),r=a.n(s);r.a},"4cff":function(t,e,a){"use strict";var s=a("06fc"),r=a.n(s);r.a},"4fee":function(t,e,a){"use strict";var s=a("58fb"),r=a.n(s);r.a},5130:function(t,e,a){},"51d4":function(t,e,a){"use strict";var s=a("55b4"),r=a.n(s);r.a},"55a1":function(t,e,a){"use strict";var s=a("2d4f"),r=a.n(s);r.a},"55b4":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header-section",{on:{"show-deposit-modal":t.toggleDepositModal,"show-withdrawl-modal":t.toggleWithdrawlModal,"show-login-modal":t.toggleLoginModal,"show-logout-modal":t.toggleLogoutModal}}),a("div",{staticClass:"uk-hidden@m"},[a("side-menu",{on:{"show-deposit-modal":t.toggleDepositModal,"show-withdrawl-modal":t.toggleWithdrawlModal,"show-login-modal":t.toggleLoginModal,"show-logout-modal":t.toggleLogoutModal}})],1),a("modal-box",{attrs:{internalComponent:"deposit",show:t.depositModalShown},on:{"modal-closed":t.toggleDepositModal}}),a("modal-box",{attrs:{internalComponent:"withdrawal",show:t.withdrawlModalShown},on:{"modal-closed":t.toggleWithdrawlModal}}),a("modal-box",{attrs:{internalComponent:"vega-login",show:t.loginModalShown},on:{"modal-closed":t.toggleLoginModal}}),a("modal-box",{attrs:{internalComponent:"vega-logout",show:t.logoutModalShown},on:{"modal-closed":t.toggleLogoutModal}}),a("notifications",{attrs:{group:"foo"}}),a("loading",{attrs:{show:t.showLoader,label:t.loaderLabel}}),a("div",{staticClass:"page-wrapper"},[a("router-view")],1)],1)},i=[],o=a("755b"),n=a.n(o),l=a("e440"),c=a.n(l),d=a("2685"),u=a.n(d);a("6705");function m({title:t,message:e,type:a,timeout:s}){return a===c.a.types.warn&&(a="warning"),u.a[a]({title:t,message:e,timeout:s})}const h={success:m,error:m,info:m,warn:m};s["default"].use(c.a,h);const g=new s["default"]({name:"MyComponent",notifications:{showSuccessMsg:{type:c.a.types.success,title:"Success",message:"It worked!"},showInfoMsg:{type:c.a.types.info,title:"Info",message:"Nice to meet you."},showWarnMsg:{type:c.a.types.warn,title:"Warning",message:"BEWARE"},showErrorMsg:{type:c.a.types.error,title:"Error",message:"Something went wrong."}}});var p={install(t){t.prototype.$showSuccessMsg=({title:t,message:e,timeout:a}={})=>g.showSuccessMsg(JSON.parse(JSON.stringify({title:t,message:e,timeout:a||2e4}))),t.prototype.$showInfoMsg=({title:t,message:e,timeout:a}={})=>g.showInfoMsg(JSON.parse(JSON.stringify({title:t,message:e,timeout:a||2e4}))),t.prototype.$showWarningMsg=({title:t,message:e,timeout:a}={})=>g.showWarnMsg(JSON.parse(JSON.stringify({title:t,message:e,timeout:a||2e4}))),t.prototype.$showErrorMsg=({title:t,message:e,timeout:a}={})=>g.showErrorMsg(JSON.parse(JSON.stringify({title:t,message:e,timeout:a||2e4})))}},v=new s["default"];const f={userLogin:"user-login",userLogout:"user-logout",userSessionExpired:"user-session-expired",notification:"notification",modalMsg:"modalMsg",userLogoutMAIN:"user-logout-website-loaded",pubKeyChanged:"pubKeyChanged"};var b=new s["default"],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-section"},[a("div",{attrs:{id:"mobile-header-wrap"}},[a("div",{attrs:{id:"mobile-header","data-uk-sticky":""}},[a("div",{staticClass:"page-mask sidemenu-trigger",class:{active:t.$store.getters.sidebarOpen,close:t.$store.getters.sidebarOpen}}),a("div",{staticClass:"header-links"},[t._m(0),a("div",{staticStyle:{"padding-left":"27%","padding-top":"5px","font-family":"Neue Pixel Grotesk Regular","font-size":"3.4vw",color:"whitesmoke",position:"fixed"}},[t._v(" VEGA NETWORK (TESTNET) ")]),a("a",{staticClass:"sidemenu-trigger",attrs:{href:"javascript:undefined"},on:{click:t.onTriggerClick}},[a("i",{staticClass:"icons8-menu fs24 c-white"})])])])]),a("div",{attrs:{id:"header-wrap"}},[a("vk-sticky",[a("header",{attrs:{id:"header"}},[a("div",{staticClass:"page-mask sidemenu-trigger",class:{active:t.$store.getters.sidebarOpen,close:t.$store.getters.sidebarOpen}}),a("div",{staticClass:"header-market-links uk-clearfix"},[a("div",{staticClass:"header-market-link-group uk-clearfix"},[a("div",{staticClass:"header-market-link-label"},[t._v("VEGA PROTOCOL")]),a("div",{staticClass:"header-market-link uk-clearfix"},[a("div",{staticClass:"price-title"},[t._v(t._s(t.$store.state.selectedVegaMarketSummary))]),a("div",{staticClass:"price"},[a("span",[t._v(t._s(Math.abs(t.$store.state.liveTradePrice)))]),a("label",[t._v(t._s(t.$store.state.selectedVegaMarketquoteName))])])])]),a("div",{staticClass:"header-market-link-group uk-clearfix"},[a("div",{staticClass:"navbar"},[a("router-link",{class:{active:"/"===t.$route.path},attrs:{to:"/"}},[a("span",[t._v("Trade")])]),t.$store.getters.isLoggedIn&&"default"===t.$store.getters.themeMode?a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" Funds  "),a("i",{staticClass:"fa fa-caret-down"})]),a("div",{staticClass:"dropdown-content"},[a("a",{attrs:{href:"javascript:undefined"},on:{click:t.showDepositModal}},[a("span",[t._v("Deposit")])]),a("a",{attrs:{href:"javascript:undefined"},on:{click:t.showWithdrawlModal}},[a("span",[t._v("Withdraw")])])])]):t._e(),t.$store.getters.isLoggedIn&&"default"===t.$store.getters.themeMode?a("router-link",{class:{active:t.$route.path.startsWith("/balance")},attrs:{to:"/balance"}},[a("span",[t._v("Wallet")])]):t._e(),t.$store.getters.isLoggedIn&&"default"===t.$store.getters.themeMode?a("router-link",{class:{active:t.$route.path.startsWith("/history")},attrs:{to:"/history"}},[a("span",[t._v("History")])]):t._e(),a("div",[t.$store.getters.isLoggedIn&&"default"===t.$store.getters.themeMode?a("a",{attrs:{href:"javascript:undefined"},on:{click:t.showLogoutModal}},[a("span",[t._v("Logout")])]):t._e()]),a("div",[t.$store.getters.isLoggedIn||"default"!==t.$store.getters.themeMode?t._e():a("a",{attrs:{href:"javascript:undefined"},on:{click:t.showLoginModal}},[a("span",[t._v("Login")])])])],1)]),a("div",{staticStyle:{color:"var(--primary-text-color)"},attrs:{id:"statusDiv"}},[a("span",{staticClass:"dot",class:t.serverStatusCode}),t._v("    "+t._s(t.getServerStatus()))])])])])],1)])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"logo",attrs:{href:"https://vega.xyz/",target:"_blank"}},[s("img",{attrs:{src:a("07a6"),alt:"VEGA NETWORK"}})])}],C=a("b410");class _{set(t,e){return window.localStorage.setItem(t,e)}get(t){return window.localStorage.getItem(t)}remove(t){return window.localStorage.removeItem(t)}removeAll(){return window.localStorage.clear()}isUserLoggedIn(){return!1}clearLoginUserData(){this.remove($.jwtToken),this.remove($.expTime),this.remove($.refreshToken),this.remove($.idToken),this.remove($.username),this.remove($.mqtt)}clearVegaSession(){T.token=null,T.name=null,T.pubKeys=[],T.currentActiveKey=null,this.remove(T.name),this.remove(T.token),this.remove(T.pubKeys),this.remove(T.currentActiveKey)}}var w=new _;const T={token:null,name:null,pubKeys:[],currentActiveKey:null},$={jwtToken:"jwt",expTime:"expT",refreshToken:"refreshT",idToken:"idT",username:"usnn",pingUuid:"sth",mqtt:"mqtt"};var L={name:"header-section",data(){return{status:"Major Outage",serverStatusCode:"major_outage",vegaSelectedMarketName:this.$store.getters.selectedVegaMarketName,vegaMarketSummary:this.$store.getters.selectedVegaMarketSummary}},components:{ModelSelect:C["ModelSelect"]},methods:{onTriggerClick(){this.$store.commit("toggleSidebar")},getServerStatus(){let t=this.$store.getters.isLoggedIn;return t?(this.serverStatusCode="Logged in as "+T.name,this.serverStatusCode):(this.serverStatusCode="Logged Out",this.serverStatusCode)},logout(){v.$emit(f.userLogout),this.$showSuccessMsg({message:"Logged Out Successfully"})},showDepositModal(){this.$store.commit("closeSidebar"),this.$emit("show-deposit-modal")},showWithdrawlModal(){this.$store.commit("closeSidebar"),this.$emit("show-withdrawl-modal")},showLoginModal(){this.$store.commit("closeSidebar"),this.$emit("show-login-modal")},showLogoutModal(){this.$store.commit("closeSidebar"),this.$emit("show-logout-modal")}},created(){this.changeVegaHeader=t=>{this.vegaSelectedMarketName=t.Name,this.vegaMarketSummary=t.Summary},b.$on("change-vega-header",this.changeVegaHeader)},destroyed(){b.$on("change-vega-header",this.changeVegaHeader)}},A=L,S=(a("7e56"),a("2877")),N=Object(S["a"])(A,k,y,!1,null,"bd2f25b2",null),D=N.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidemenu uk-text-center",class:{open:t.$store.getters.sidebarOpen}},[a("div",{staticClass:"main"},[a("ul",{staticClass:"uk-list mb0"},[a("li",{staticClass:"sidemenu-trigger uk-visible@m",class:{close:!t.$store.getters.sidebarOpen}},[a("a",{attrs:{href:"javascript:undefined"},on:{click:t.onTriggerClick}},[t._m(0),a("span",[t._v(" ")])])]),a("li",{staticClass:"mt0"},[a("router-link",{class:{active:"/"===t.$route.path},attrs:{to:"/"}},[a("span",[a("i",{staticClass:"icons8-home-2"})]),a("span",[t._v("Dashboard")])])],1),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?a("router-link",{class:{active:t.$route.path.startsWith("/positions")},attrs:{to:"/positions"}},[a("span",[a("i",{staticClass:"icons8-time-machine"})]),a("span",[t._v("Positions")])]):t._e()],1),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?a("router-link",{class:{active:t.$route.path.startsWith("/active-orders")},attrs:{to:"/active-orders"}},[a("span",[a("i",{staticClass:"icons8-time-machine"})]),a("span",[t._v("Active Orders")])]):t._e()],1),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?a("router-link",{class:{active:t.$route.path.startsWith("/recent-trades")},attrs:{to:"/recent-trades"}},[a("span",[a("i",{staticClass:"icons8-time-machine"})]),a("span",[t._v("Recent Trades")])]):t._e()],1),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?a("a",{attrs:{href:"javascript:undefined"},on:{click:t.showDepositModal}},[t._m(1),a("span",[t._v("Deposit")])]):t._e()]),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?a("a",{attrs:{href:"javascript:undefined"},on:{click:t.showWithdrawlModal}},[t._m(2),a("span",[t._v("Withdraw")])]):t._e()]),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?a("a",{attrs:{href:"javascript:undefined"},on:{click:t.logout}},[t._m(3),a("span",[t._v("Logout")])]):t._e()]),a("li",{staticClass:"mt0"},[t.$store.getters.isLoggedIn?t._e():a("a",{attrs:{href:"javascript:undefined"},on:{click:t.login}},[t._m(4),a("span",[t._v("Login")])])])])])])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"icons8-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"icons8-donate"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"icons8-donate"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"icons8-logout-rounded-up-2"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"icons8-logout-rounded-up-2"})])}],x={name:"side-menu",watch:{$route(){this.$store.commit("closeSidebar")}},components:{ModelSelect:C["ModelSelect"]},methods:{onTriggerClick(){this.$store.commit("toggleSidebar")},showDepositModal(){this.$store.commit("closeSidebar"),this.$emit("show-deposit-modal")},showWithdrawlModal(){this.$store.commit("closeSidebar"),this.$emit("show-withdrawl-modal")},logout(){this.$store.commit("closeSidebar"),this.$emit("show-logout-modal")},login(){this.$store.commit("closeSidebar"),this.$emit("show-login-modal")}}},B=x,I=(a("f087"),Object(S["a"])(B,P,M,!1,null,"9cd7a262",null)),O=I.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vk-modal",{attrs:{show:t.show},on:{clickOut:t.closeModal,keyEsc:t.closeModal,"update:show":t.updateShow,keyup:t.handleKeyUp}},[a("vk-modal-close",{on:{click:t.closeModal}}),"deposit"===t.internalComponent?a("h3",{staticClass:"fs20 mb20 os-semibold c-white uk-text-uppercase",staticStyle:{"text-align":"center"}},[t._v(t._s(t.internalComponent))]):t._e(),"withdrawal"===t.internalComponent?a("h3",{staticClass:"fs20 mb20 os-semibold c-white uk-text-uppercase",staticStyle:{"text-align":"center"}},[t._v(t._s(t.internalComponent))]):t._e(),"vega-login"===t.internalComponent?a("h3",{staticClass:"fs20 mb20 os-semibold c-white uk-text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Vega Protocol (Testnet): Login")]):t._e(),"vega-logout"===t.internalComponent?a("h3",{staticClass:"fs20 mb20 os-semibold c-white uk-text-uppercase",staticStyle:{"text-align":"center"}},[t._v("Vega Protocol (Testnet): Logout")]):t._e(),"deposit"===t.internalComponent?a("deposit",{staticClass:"ui-tabs ui-widget ui-widget-content"}):"withdrawal"===t.internalComponent?a("withdrawl",{staticClass:"ui-tabs ui-widget ui-widget-content"}):"vega-login"===t.internalComponent?a("vega-login",{staticClass:"i-widget ui-widget-content"}):"vega-logout"===t.internalComponent?a("vega-logout",{staticClass:"i-widget ui-widget-content"}):t._e()],1)},V=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deposit"},[a("div",{staticClass:"uk-margin-medium-top uk-visible@m"},[a("h2",[t._v("Vega Testnet currently doesn't support this feature.")]),a("br"),a("br"),a("vega-deposit-address")],1),a("div",{staticClass:"uk-hidden@m",attrs:{id:"mobileDropdown"}},[a("h2",[t._v("Vega Testnet currently doesn't support this feature.")]),a("br"),a("br"),a("vega-deposit-address")],1)])},F=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vega-deposit-address"},[a("form",[a("div",[a("div",{staticClass:"settingstab-content",attrs:{id:"tab-a4"}},[a("div",{staticClass:"form-area"},[a("vk-grid",{staticClass:"f1-form-grid"},[a("div",[a("div",{staticClass:"dropbtn",staticStyle:{"text-transform":"capitalize"}},[t._v("VEGA DEPOSIT ADDRESS ")])])]),a("vk-grid",{staticClass:"f1-form-grid"},[a("div",{staticClass:"uk-width-3-4"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",attrs:{id:"destination_Address",type:"text",placeholder:"Destination Address",readonly:""},domProps:{value:t.destinationAddress}})])])]),a("span",{staticClass:"copyText tooltip uk-width-1-4",on:{click:function(e){return t.copyReferral(t.destinationAddress)}}},[a("img",{attrs:{src:"https://png.icons8.com/material/50/38545d/copy.png"}}),a("span",{staticClass:"tooltiptext"},[t._v("Copy")])])])],1)])])])])},R=[],z={name:"vega-deposit-address",components:{},data(){return{destinationAddress:"",vegaMethodTypes:[]}},methods:{copyReferral(){let t=document.querySelector("#destination_Address");t.select(),t.select(),document.execCommand("copy"),this.$showSuccessMsg({message:"Wallet Address copied successfully."})}}},H=z,j=(a("51d4"),Object(S["a"])(H,U,R,!1,null,"1021b526",null)),q=j.exports,Q={name:"deposit",components:{vegaDepositAddress:q},data(){return{}},methods:{}},G=Q,W=(a("0e0c"),Object(S["a"])(G,K,F,!1,null,"15647412",null)),J=W.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"withdrawl"},[t._m(0),a("tab-bar",{attrs:{tabs:t.tabs},on:{"tab-change":t.onTabChange}}),"Crypto"===t.activeTab?a("crypto-withdrawls"):t._e(),"Cash"===t.activeTab?a("cash-withdrawls"):t._e()],1)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-margin-medium-top uk-visible@m"},[a("h2",[t._v("Vega Testnet currently doesn't support this feature.")]),a("br")])}],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tab-bar"}},[a("vk-tabs",{class:{"uk-visible@m":t.mobileDropdown},attrs:{activeTab:t.activeTab},on:{"update:activeTab":t.onTabChange}},t._l(t.tabs,(function(t){return a("vk-tabs-item",{key:t,attrs:{title:t}})})),1),t.mobileDropdown?a("div",{staticClass:"uk-hidden@m",attrs:{id:"mobileDropdown"}},[a("vk-button",{attrs:{id:"tabBarDropdown",mode:"click"}},[t._v(t._s(t.activeTab))]),a("vk-dropdown",{attrs:{delayHide:1}},[a("vk-nav-dropdown",t._l(t.tabs,(function(e){return a("vk-nav-item",{key:e,attrs:{title:e},on:{click:function(a){return t.onDropDownTabChange(e)}}})})),1)],1)],1):t._e()],1)},tt=[],et={name:"tab-bar",props:{mobileDropdown:{type:Boolean,required:!1},tabs:{required:!0},routeDriven:{default:!1,type:Boolean},tabRouteMap:{type:Object,required:!1},bus:{default:()=>new s["default"]}},created(){this.bus.$on("change-active-tab",t=>{this.activeTab=t,this.onTabChange(t),this.$emit("tab-change",this.activeTab)})},data(){let t;return this.routeDriven?(t=Object.keys(this.tabRouteMap).find(t=>this.tabRouteMap[t]===this.$route.path),t||this.$router.push("/")):t=this.tabs[0],{activeTab:t}},methods:{setActive(t){this.activeTab=t,this.onTabChange(t)},onTabChange(t){this.activeTab=t,this.$emit("tab-change",this.activeTab),this.routeDriven&&this.$router.push(this.tabRouteMap[t]||"/")},onDropDownTabChange(t){this.$children[1].hide(),this.onTabChange(t)}}},at=et,st=(a("4415"),Object(S["a"])(at,Z,tt,!1,null,"e4a3c4ac",null)),rt=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"crypto-withdrawls ui-tabs ui-widget ui-widget-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.withdrawCrypto(e)}}},[a("vk-grid",{staticClass:"f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formValue.amount,expression:"formValue.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Amount"},domProps:{value:t.formValue.amount},on:{input:function(e){e.target.composing||t.$set(t.formValue,"amount",e.target.value)}}})])])])]),a("vk-grid",{staticClass:"f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formValue.recievingAddress,expression:"formValue.recievingAddress"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Receiving Address"},domProps:{value:t.formValue.recievingAddress},on:{input:function(e){e.target.composing||t.$set(t.formValue,"recievingAddress",e.target.value)}}})])])])]),a("vk-grid",{staticClass:"f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("ul",{staticClass:"uk-subnav gap15"},t._l(t.supportedCoins,(function(e,s){return a("li",{key:e},[a("div",{staticClass:"cr1",staticStyle:{"line-height":"14px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formValue.coin,expression:"formValue.coin"}],staticClass:"cr-input",attrs:{type:"radio",name:"grp-a",id:t.getGrpId(s)},domProps:{value:e,checked:t._q(t.formValue.coin,e)},on:{change:function(a){return t.$set(t.formValue,"coin",e)}}}),a("label",{staticClass:"cr-label",attrs:{for:t.getGrpId(s)}},[t._v(t._s(e))]),t._v(" \n                            "),a("span",{staticClass:"dot",class:t.getStatus(e),staticStyle:{float:"right"}})])])})),0)])]),a("vk-grid",{staticClass:"f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticStyle:{color:"var(--primary-text-color)"}},[t._v("Withdrawal Fee:   "+t._s(t.withdrawalFee)+" "+t._s(t.formValue.coin.toUpperCase()))])]),a("div",{staticClass:"uk-width-1-1"},[a("vk-button",{staticClass:"pl40 pr40",on:{click:t.withdrawCrypto}},[t._v("Withdraw")])],1)])],1)])},ot=[],nt=a("2f62");s["default"].use(nt["a"]);const lt=new nt["a"].Store({state:{themeMode:"default",theme:{default:{"main-bg-color":"#0e1e23","header-bg-color":"#203238","header-border-color":"#415b62","tab-button-background-color":"#39545d","primary-text-color":"#ffffff","miner-sub-text-color":"#909ca0","mobile-bg-color":"#edba9f","green-color":"#5fd66a","red-color":"#ff5353","sec-mobile-bg-color":"#b37863","pri-label-color":"#879fad","just-black ":"#000000","placeholder-color":"#999999","border-bottom-color":"#1e2c31","border-right-color ":"#445f66","tab-color":"#38545d","silder-bg-color":"#d3d3d3,","secondary-modal-bg-color":"#0F1E23","container-bg-color":"#121E22"}},username:null,ledger:[],websocketStatus:"Closed",activeOrders:[],recentTrades:[],loaderCounter:0,markets:[],mappedMarkets:new Map,mappedMarketsbyName:new Map,loaderCancellable:!1,isLoggedIn:!0,sidebarOpen:!1,tradePaneClosed:!1,bookPaneClosed:!1,liveTradePrice:1,tickerCache:{},priceAnalysisSnapShot:{},selectedPair:"BTC/USD",pubkeysArray:[],selectedVegaMarketName:"ETHBTC/DEC20",selectedVegaMarketId:"RTJVFCMFZZQQLLYVSXTWEN62P6AH6OCN",selectedVegaMarketSummary:"December 2020 ETH vs BTC future",selectedVegaMarketbaseName:"ETHBTC",selectedVegaMarketquoteName:"BTC",selectedVegaMarketTradeId:"RTJVFCMFZZQQLLYVSXTWEN62P6AH6OCN",selectedVegaMarketNameTrade:"ETHBTC/DEC20",selectedVegaMarketSummaryTrade:"December 2020 ETH vs BTC future",selectedVegaMarketbaseNameTrade:"ETHBTC",selectedVegaMarketquoteNameTrade:"BTC",totalRealizedPNL_VUSD:0,totalUnrealizedPNL_VUSD:0,totalRealizedPNL_BTC:0,totalUnrealizedPNL_BTC:0,selectedExchange:"bitfinex",supportedPairs:[],totalPortfolioValue:0,tpvCurrency:"USD",limitTab:!1,marketIOCTab:!0,limitGTCTab:!1,limitFOKTab:!1,limitIOCTab:!1,tickerData:{},availablePairs:[],buyPrice:0,sellPrice:0,precision:1e-4},getters:{username(t){return t.username},websocketStatus(t){return t.websocketStatus},themeMode(t){return t.themeMode},limitTab(t){return t.limitTab},marketIOCTab(t){return t.marketIOCTab},limitGTCTab(t){return t.limitGTCTab},limitFOKTab(t){return t.limitFOKTab},limitIOCTab(t){return t.limitIOCTab},supportedPairs(t){return[...new Set(t.supportedPairs)]},selectedPair(t){return t.selectedPair},selectedVegaMarket(t){return{selectedVegaMarketName:t.selectedVegaMarketName,selectedVegaMarketId:t.selectedVegaMarketName}},selectedVegaMarketName(t){return t.selectedVegaMarketName},pubkeysArray(t){return t.pubkeysArray},selectedVegaMarketId(t){return t.selectedVegaMarketId},selectedVegaMarketSummary(t){return t.selectedVegaMarketSummary},selectedVegaMarketbaseName(t){return t.selectedVegaMarketbaseName},selectedVegaMarketquoteName(t){return t.selectedVegaMarketquoteName},selectedVegaMarketNameTrade(t){return t.selectedVegaMarketNameTrade},selectedVegaMarketTradeId(t){return t.selectedVegaMarketTradeId},selectedVegaMarketSummaryTrade(t){return t.selectedVegaMarketSummaryTrade},selectedVegaMarketbaseNameTrade(t){return t.selectedVegaMarketbaseNameTrade},selectedVegaMarketquoteNameTrade(t){return t.selectedVegaMarketquoteNameTrade},isLoggedIn(t){return t.isLoggedIn},currentTime(){return mt()},ledger(t){return t.ledger},activeOrders(t){return t.activeOrders},markets(t){return t.markets},mappedMarkets(t){return t.mappedMarkets},mappedMarketsbyName(t){return t.mappedMarketsbyName},recentTrades(t){return t.recentTrades},totalUnrealizedPNL_VUSD(t){return t.totalUnrealizedPNL_VUSD},totalRealizedPNL_VUSD(t){return t.totalRealizedPNL_VUSD},totalUnrealizedPNL_BTC(t){return t.totalUnrealizedPNL_BTC},totalRealizedPNL_BTC(t){return t.totalRealizedPNL_BTC},showLoader(t){return t>0},loaderCancellable(t){return t.loaderCancellable},sidebarOpen(t){return t.sidebarOpen},liveTradePrice(t){return t.liveTradePrice},tickerCache(t){return t.tickerCache},priceAnalysisSnapShot(t){return t.priceAnalysisSnapShot},selectedExchange(t){return t.selectedExchange},formattedSelectedExchange(t){switch(t.selectedExchange){case"vegaProtocol":return"vegaProtocol";default:return t.selectedExchange.charAt(0).toUpperCase()+t.selectedExchange.slice(1)}},getTickerData(t){return t.tickerData},getccTickerData(t){return t.tickerData[t.selectedPair.split("/")[0]][t.selectedPair].exchanges},getAvailablePairs(t){return t.availablePairs},buyPrice(t){return t.buyPrice},sellPrice(t){return t.sellPrice},precisionSelectedpair(t){return t.precision}},mutations:{updateusername(t,e){t.username=e},changeWebsocketStatus(t,e){t.websocketStatus=e},changeLimitTab(t){t.limitTab=!0},changeToLimitFOKTab(t){t.limitFOKTab=!0},changeToLimitGTCTab(t){t.limitGTCTab=!0},changeToLimitIOCTab(t){t.limitIOCTab=!0},changeMarketTab(t){t.limitTab=!1},totalUnrealizedPNL_VUSD(t,e){t.totalUnrealizedPNL_VUSD=e},totalRealizedPNL_VUSD(t,e){t.totalRealizedPNL_VUSD=e},totalUnrealizedPNL_BTC(t,e){t.totalUnrealizedPNL_BTC=e},totalRealizedPNL_BTC(t,e){t.totalRealizedPNL_BTC=e},changeMarketIOCTab(t){t.marketIOCTab=!1},changeMarketFOKTab(t){t.marketIOCTab=!0},isLoggedIn(t,e){t.isLoggedIn=e},ledger(t,e){t.ledger=e,lt.commit("totalPortfolioValue")},activeOrders(t,e){t.activeOrders=e},addToActiveOrders(t,e){t.activeOrders.unshift(e),t.activeOrders.length>50&&t.activeOrders.pop()},removeFromActiveOrders(t,e){for(let a=0;a<t.activeOrders.length;a++)if(t.activeOrders[a].id==e){let e=t.activeOrders[a],s=t.activeOrders.indexOf(e);t.activeOrders.splice(s,1)}},markets(t,e){t.markets=e},mappedMarkets(t,e){t.mappedMarkets.set(e.id,e.data)},mappedMarketsbyName(t,e){t.mappedMarketsbyName.set(e.data.name,e)},recentTrades(t,e){t.recentTrades=e},addToRecentTrades(t,e){t.recentTrades.unshift(e),t.recentTrades.length>50&&t.recentTrades.pop()},addLoaderTask(t,e,a=!1){t.loaderCounter+=e,t.loaderCancellable=a},removeLoaderTask(t,e){t.loaderCounter>0?(t.loaderCounter-=e,t.loaderCancellable=!1):t.loaderCounter<0&&(t.loaderCounter=0)},toggleSidebar(t){t.sidebarOpen?document.body.classList.remove("no-scroll"):document.body.classList.add("no-scroll"),t.sidebarOpen=!t.sidebarOpen},toggleTradePaneClosed(t){t.tradePaneClosed=!t.tradePaneClosed},toggleBookPaneClosed(t){t.bookPaneClosed=!t.bookPaneClosed},closeSidebar(t){t.sidebarOpen&&this.commit("toggleSidebar")},liveTradePrice(t,e){t.liveTradePrice=e},tickerCache(t,e){t.tickerCache=e},priceAnalysisSnapShot(t,e){t.priceAnalysisSnapShot=e},selectedExchange(t,e){t.selectedExchange=e},selectedPair(t,e){t.selectedPair=e},changeSelectedVegaMarket(t,e){t.selectedVegaMarketName=e.Name,t.selectedVegaMarketId=e.Id,t.selectedVegaMarketId=toString(t.selectedVegaMarketId)},changeSelectedVegaMarketSummary(t,e){t.selectedVegaMarketSummary=e},changeSelectedVegaMarketbaseName(t,e){t.selectedVegaMarketbaseName=e},changeSelectedVegaMarketquoteName(t,e){t.selectedVegaMarketquoteName=e},changeSelectedVegaMarketNameTrade(t,e){t.selectedVegaMarketNameTrade=e},changeSelectedVegaMarketTradeId(t,e){t.selectedVegaMarketTradeId=e},changeSelectedVegaMarketSummaryTrade(t,e){t.selectedVegaMarketSummaryTrade=e},changeSelectedVegaMarketbaseNameTrade(t,e){t.selectedVegaMarketbaseNameTrade=e},changeSelectedVegaMarketquoteNameTrade(t,e){t.selectedVegaMarketquoteNameTrade=e},addSupportedPair(){},totalPortfolioValue(t){t.totalPortfolioValue=t.ledger.reduce((e,{currency:a,total:s})=>{a=a.toUpperCase();let r=1;return a!==t.tpvCurrency&&(r=(((((t.tickerData[a]||{})[`${a}/${t.tpvCurrency}`]||{}).best||{}).bids||{})[0]||{}).price||0),e+=r*s,e},0).toFixed(3)},changeTickerData(t,e){t.tickerData=e},changePairData(t,e){t.availablePairs=e},buyPrice(t,e){t.buyPrice=e},sellPrice(t,e){t.sellPrice=e},precisionMap(t,e){t.precision=e}},actions:{toggleTheme({state:t},e){t.themeMode=e;const a=Object.keys(t.theme[e]);for(let s=0;s<a.length;s++)document.documentElement.style.setProperty("--"+a[s],t.theme[e][a[s]])}}});var ct=lt;function dt(t){return`<ul><li>${t.join("</li><li>")}</li><ul>`}function ut(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))}function mt(t=new Date){let e=t.getHours(),a=t.getMinutes(),s=t.getSeconds();return`${e<10?"0":""}${e}:${a<10?"0":""}${a}:${s<10?"0":""}${s}`}function ht(t=new Date){let e=t.getDate(),a=t.getMonth(),s=t.getFullYear();return`${e} ${gt(a)} ${s}`}function gt(t){switch(t+1){case 1:return"Jan";case 2:return"Feb";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}}function pt(t=new Date){return`${ht(t)} ${mt(t)}`}function vt(){ct.commit("totalPortfolioValue")}setInterval(vt,3e4);var ft={name:"crypto-withdrawls",data(){return{supportedCoins:["BTC","eth","LTC","xrp"],formValue:{amount:"",recievingAddress:"",coin:"BTC"},withdrawalFee:0,statuses:{btc:"feature under development",ltc:"feature under development",eth:"feature under development",dai:"feature under development"},fees:{btc:0,eth:0,ltc:0,xrp:0}}},watch:{"formValue.coin":{handler:function(t){this.showFees(t)},deep:!0}},methods:{getStatus(t){return"btc"===t||"eth"===t||"ltc"===t||"xrp"===t?"feature under development":void 0},withdrawCrypto(){let t=[];Number(this.formValue.amount)>0||t.push("Invalid Amount"),this.formValue.recievingAddress||t.push("Recieving Address is required"),t.length?this.$showErrorMsg({message:dt(t)}):(this.otpSent=!0,this.$showErrorMsg({message:"This feature is currently not supported in Vega testnet"})),this.$store.commit("removeLoaderTask",1)},getGrpId(t){return"grp-a"+t},getGrpId2(t){return"grp-b"+t},async showFees(t){this.withdrawalFee=this.fees[t]}}},bt=ft,kt=(a("d070"),Object(S["a"])(bt,it,ot,!1,null,"383d8a95",null)),yt=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cash-withdrawls"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.withdrawCash(e)}}},[a("vk-grid",{staticClass:"f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formValue.amount,expression:"formValue.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Amount"},domProps:{value:t.formValue.amount},on:{input:function(e){e.target.composing||t.$set(t.formValue,"amount",e.target.value)}}})])])])]),a("br"),a("br"),a("div",{staticClass:"uk-width-1-1"},[a("vk-button",{staticClass:"pl40 pr40",on:{click:t.withdrawCash}},[t._v("Withdraw")])],1)],1)])},_t=[],wt={name:"cash-withdrawls",data(){return{formValue:{amount:""}}},methods:{withdrawCash(){let t=[];Number(this.formValue.amount)>0||t.push("Invalid Amount"),t.length&&this.$showErrorMsg({message:dt(t)}),this.$showErrorMsg({message:"This feature is currently not supported in Vega Testnet"})}}},Tt=wt,$t=Object(S["a"])(Tt,Ct,_t,!1,null,null,null),Lt=$t.exports,At={name:"withdrawl",components:{TabBar:rt,CryptoWithdrawls:yt,CashWithdrawls:Lt},data(){return{activeTab:"Crypto",tabs:["Crypto","Cash"]}},methods:{onTabChange(t){this.activeTab=t}}},St=At,Nt=(a("a64e"),Object(S["a"])(St,Y,X,!1,null,"250d00f7",null)),Dt=Nt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"balance-transfer"},[a("h1",{staticClass:"fs20 os-regular c-white p20 m0 uk-text-uppercase"},[t._v("VEGA Wallet Summary")]),a("div",{staticClass:"pl20 pr20"},[a("tab-bar",{attrs:{mobileDropdown:!0,tabs:t.tabs,tabRouteMap:t.tabRouteMapping,routeDriven:""}}),a("router-view")],1)])},Mt=[],xt={name:"balance-transfer",components:{TabBar:rt},data(){return{activeTab:"VEGA",tabs:["VEGA"],tabRouteMapping:{VEGA:"/balance"}}},methods:{onTabChange(t){this.activeTab=t}}},Bt=xt,It=(a("3958"),Object(S["a"])(Bt,Pt,Mt,!1,null,"40ad192c",null)),Ot=It.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vega-login"},[a("div",{staticClass:"uk-margin-medium-top uk-visible@m"},[a("div",{staticClass:"loginbox"},[a("form",[a("p",[t._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"",placeholder:"Enter Your Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("p",[t._v("Wallet Key: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.wallet,expression:"wallet"}],attrs:{type:"text",name:"",placeholder:"Enter Your Wallet Key"},domProps:{value:t.wallet},on:{input:function(e){e.target.composing||(t.wallet=e.target.value)}}}),a("p",[t._v("Passphrase: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passphrase,expression:"passphrase"}],attrs:{type:"password",name:"",placeholder:"Enter Your Secret Passphrase"},domProps:{value:t.passphrase},on:{input:function(e){e.target.composing||(t.passphrase=e.target.value)}}})]),a("button",{staticClass:"btn",on:{click:t.executelogin}},[t._v("LOG IN")])])]),a("div",{staticClass:"uk-margin-medium-top uk-hidden@m",attrs:{id:"mobileDropdown"}},[a("div",{staticClass:"loginboxMobile"},[a("form",{staticClass:"formMobileLogin"},[a("p",{staticStyle:{"text-align":"center"}},[t._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{"text-align":"center"},attrs:{type:"text",name:"",placeholder:"Enter Your Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("p",{staticStyle:{"text-align":"center"}},[t._v("Wallet Key: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.wallet,expression:"wallet"}],staticStyle:{"text-align":"center"},attrs:{type:"text",name:"",placeholder:"Enter Your Wallet Key"},domProps:{value:t.wallet},on:{input:function(e){e.target.composing||(t.wallet=e.target.value)}}}),a("p",{staticStyle:{"text-align":"center"}},[t._v("Passphrase: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passphrase,expression:"passphrase"}],staticStyle:{"text-align":"center"},attrs:{type:"password",name:"",placeholder:"Enter Your Secret Passphrase"},domProps:{value:t.passphrase},on:{input:function(e){e.target.composing||(t.passphrase=e.target.value)}}})]),a("button",{staticClass:"btnMOBILE",on:{click:t.executelogin}},[t._v("LOG IN")])])])])},Vt=[],Kt=a("bc3a"),Ft=a.n(Kt);class Ut{async loginToVega(t,e,a){let s={wallet:e,passphrase:a};try{const e=await Ft.a.post("https://wallet.n.vega.xyz/api/v1/auth/token",s);if(200===e.status){T.name=t,T.token=e.data.token;const a=await this.getPubKeys(s.pass);return 200===a.status?{status:200,msg:"Login Successful - Welcome "+t}:{status:200,msg:"Login Successful, but PubKeys couldn't be generated. Please try again."}}return{status:400,msg:"Login Failed : Wallet-Passphrase pair Incorrect."}}catch(r){return{status:400,msg:"Login Failed : Wallet-Passphrase pair Incorrect."}}}async logoutfromVega(){if(!T.token)return"User already Logged Out.";const t="Bearer "+T.token;try{const e=await Ft.a.delete("https://wallet.n.vega.xyz/api/v1/auth/token",{headers:{Authorization:t}});return 200==e.status?(w.clearVegaSession(),{status:200,msg:"User Successfully Logged Out."}):{status:400,msg:"Something went wrong. Please try again."}}catch(e){return{status:400,msg:"Something went wrong. Server returned error. Please try again."}}}async getPubKeys(t){const e="Bearer "+T.token;try{const a=await Ft.a.get("https://wallet.n.vega.xyz/api/v1/keys",{headers:{Authorization:e}});if(200==a.status){let e=Object.keys(a.data.keys).length;if(e<=1){const e=await this.generatenewPubKeys(t);return e}for(let t=0;t<e;t++){let e=a.data.keys[t];T.pubKeys.push(e.pub)}return T.currentActiveKey=T.pubKeys[0],{status:200,msg:"PubKeys retrieved Successfully."}}return{status:400,msg:"Something went wrong. Couldn't retrieve PubKeys."}}catch(a){return{status:400,msg:"Something went wrong. Server returned error when fetching PubKeys."}}}async generatenewPubKeys(t){const e="Bearer "+T.token;let a={passphrase:t,meta:[{key:"somekey",value:"somevalue"}]};const s=await Ft.a.post("https://wallet.n.vega.xyz/api/v1/keys",a,{headers:{Authorization:e}});try{return 200==s.status?(T.pubKeys.push(s.data.key.pub),T.currentActiveKey=s.data.key.pub,{status:200,msg:"New PubKey generated successfully"}):{status:400,msg:"Something went wrong. Couldn't generate new PubKey"}}catch(r){return{status:400,msg:"Something went wrong. Couldn't generate new PubKey"}}}}var Rt=new Ut;class zt{constructor(){this.regex={email:/^[a-zA-Z0-9-_.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,url:/^(https?:\/\/(?:www\.|(?!www))[^\s.#!:?+=&@!$'~*,;\/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?|www\.[^\s#!:.?+=&@!$'~*,;\/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?)/i,phone:/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,zip:/^\d{5}(?:[-\s]\d{4})?$/,uid:/^\d{14,}[a-z]{3}[01]{1}$/,username:/^[a-zA-Z0-9-_.@$+]{4,16}$/,password:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,name:/^[a-zA-Z. -]{1,40}$/}}isValidEmail(t=""){return null!==t.match(this.regex.email)}isValidUrl(t=""){return null!==t.match(this.regex.url)}isValidUid(t=""){return null!==t.match(this.regex.uid)}isValidUsername(t){return null!==t.match(this.regex.username)}isValidPassword(t){return null!==t.match(this.regex.password)}isValidName(t){return null!==t.match(this.regex.name)}isValidZip(t=""){return null!==t.match(this.regex.zip)}}var Ht=new zt,jt={name:"vega-login",data:function(){return{name:"",wallet:"",passphrase:"",response:[],msg:""}},methods:{async executelogin(){Ht.isValidName(this.name)?(this.response=await Rt.loginToVega(this.name,this.wallet,this.passphrase),this.response?(this.msg=this.response.msg,200==this.response.status?(this.$emit("modal-closed"),v.$emit(f.userLogin,{username:this.name}),this.$showSuccessMsg({message:"Logged In Successfully"})):this.$showErrorMsg({message:this.response.msg})):(this.msg="Invalid Response from Server.",this.$showErrorMsg({message:this.msg})),this.$emit("show-login-modal")):this.$showErrorMsg({message:"Please enter a valid name"})}}},qt=jt,Qt=(a("c469"),Object(S["a"])(qt,Et,Vt,!1,null,"6507af86",null)),Gt=Qt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vega-logout"},[a("div",{staticClass:"uk-margin-medium-top uk-visible@m"},[a("div",{staticClass:"logoutbox"},[a("h2",[t._v("Thank You! ")]),a("button",{staticClass:"btn",on:{click:t.executelogout}},[t._v("LOG OUT")])])]),a("div",{staticClass:"uk-hidden@m",attrs:{id:"mobileDropdown"}},[a("div",{staticClass:"logoutbox"},[a("button",{staticClass:"btnMOBILE",on:{click:t.executelogout}},[t._v("LOG OUT")])])])])},Jt=[],Yt={name:"vega-logout",data:function(){return{res:[]}},methods:{async executelogout(){this.res=await Rt.logoutfromVega(),this.res?200==this.res.status?(v.$emit(f.userLogout),this.$showSuccessMsg({message:"Logged Out Successfully"})):this.$showErrorMsg({message:this.res.msg}):this.$showErrorMsg({message:"Something went wrong. Please try again."}),this.$emit("show-logout-modal")}}},Xt=Yt,Zt=(a("6296"),Object(S["a"])(Xt,Wt,Jt,!1,null,"6a99e2be",null)),te=Zt.exports,ee={name:"modal-box",components:{Deposit:J,Withdrawl:Dt,BalanceTransfer:Ot,VegaLogin:Gt,VegaLogout:te},props:{internalComponent:{required:!0},show:{default:!1}},methods:{closeModal(){this.$emit("modal-closed")},updateShow(t){this.show&&!t&&this.closeModal()},handleKeyUp(t){27===t.keyCode&&this.closeModal()}}},ae=ee,se=Object(S["a"])(ae,E,V,!1,null,null,null),re=se.exports;class ie{constructor(){this.main_api="https://lb.n.vega.xyz",this.currentActiveKey=T.currentActiveKey,this.unspecified="unspecified"}async submitOrder_market(t,e,a,s,r){const i=a+" "+s+" "+r+" order of "+e+"  at ";try{const n=await this.prepare_submit_order_market(t,e,s,a,r);if(200!=n.status){let t=i+" - Order preparation failed";return{status:n.status,message:t}}{const t=n.data.blob;try{const e=await this.signtx(t,!0);if(200==e.status){let t=i+" has been successfully signed and propogated into the chain.";return{status:e.status,message:t}}{let t=i+" - Order signature failed";return{status:e.status,message:t}}}catch(o){let t=i+" - Order signature returned error. Please check order details again.";return{status:404,message:t}}}}catch(o){return{status:404,message:this.msg}}}async submitOrder_limit(t,e,a,s,r,i,o="USD"){const n=a+" "+s+" "+r+" order of volume "+e+"  at value "+i+" "+o;try{const o=await this.prepare_submit_order_limit(t,e,s,a,r,i);if(200!=o.status){let t=n+" - Order preparation failed";return{status:o.status,message:t}}{const t=o.data.blob;try{const e=await this.signtx(t,!0);if(200==e.status){let t=n+" has been successfully signed and propogated into the chain.";return{status:e.status,message:t}}{let t=n+" - Order signature failed";return{status:e.status,message:t}}}catch(l){let t=n+" - Order signature returned error. Please check order details again.";return{status:404,message:t}}}}catch(l){let t=n+" - Order preparation returned error. Please check order details again.";return{status:404,message:t}}}async prepare_submit_order_market(t,e,a,s,r){const i={submission:{marketID:t,partyID:T.currentActiveKey,side:s,size:e,timeInForce:r,type:a}};try{let t=await Ft.a.post(this.main_api+"/orders/prepare",i);return{status:t.status,data:t.data}}catch{return{status:404,data:"prepare_submit_order_market Failed."}}}async prepare_submit_order_limit(t,e,a,s,r,i){const o={submission:{marketID:t,partyID:T.currentActiveKey,price:i,side:s,size:e,timeInForce:r,type:a}};try{let t=await Ft.a.post(this.main_api+"/orders/prepare",o);return{status:t.status,data:t.data}}catch{return{status:404,data:"prepare_submit_order_limit Failed."}}}async signtx(t,e=!1){let a="https://wallet.n.vega.xyz/api/v1/messages";const s="Bearer "+T.token,r={tx:t,pubKey:T.currentActiveKey,propagate:e};try{let t=await Ft.a.post(a,r,{headers:{Authorization:s}});return{status:t.status,data:t.data}}catch{return{status:404,data:"Sign_Transaction Failed."}}}async submit_transaction(t,e){let a={tx:{data:t,pubKey:this.currentActiveKey,sig:e}};try{let t=await Ft.a.post(this.main_api+"/transaction",a);return{status:t.status,data:t.data}}catch{}}async cancel_order(t,e){let a="https://lb.n.vega.xyz/orders/prepare/"+e,s={marketID:t,partyID:T.currentActiveKey};try{let t=await Ft.a.delete(a,{params:s},{crossdomain:!0});if(200!=t.status){let e="Deletion Order preparation failed";return{status:t.status,message:e}}{const e=t.data.blob;try{const t=await this.signtx(e,!0);if(200==t.status){let e="Deletion request has been successfully signed and propogated into the chain.";return{status:t.status,message:e}}{let e="Deletion request's signature transaction failed";return{status:t.status,message:e}}}catch(r){let t=" Order signature for deletion request returned error";return{status:404,message:t}}}}catch{return{status:404,message:"Cancel Order preparation Failed."}}}async amend_order(t,e){let a={marketID:t,orderID:e,partyID:this.currentActiveKey};try{let t=await Ft.a.delete(this.main_api+"/orders/prepare"+e,a);return{status:t.status,data:t.data}}catch{}}async get_markets(){try{let t=await Ft.a.get(this.main_api+"/markets");return{status:t.status,data:t.data}}catch{return{status:404,data:"Get Markets Failed"}}}async get_list_of_markets(){try{let t=await Ft.a.get(this.main_api+"/markets-data");return{status:t.status,data:t.data}}catch{}}async get_market_data_by_id(t){try{let e=await Ft.a.get(this.main_api+"/markets-data/"+t);return{status:e.status,data:e.data}}catch{}}async get_market_by_id(t){let e=this.main_api+"/markets/"+t;try{let t=await Ft.a.get(e);return{status:t.status,data:t.data}}catch{}}async get_accounts_by_market(t,e){let a={asset:e};try{let e=await Ft.a.get(this.main_api+"/markets/"+t+"/accounts",a);return{status:e.status,data:e.data}}catch{}}async get_candles_by_market_id(t,e,a){let s="/markets/"+t+"/candles",r={sinceTimestamp:e,interval:a};try{let t=await Ft.a.get(this.main_api+s,{params:r});return{status:t.status,data:t.data}}catch{return{status:404,data:"API call failed"}}}async get_market_depth(t,e){let a={maxDepth:e};try{let e=await Ft.a.get(this.main_api+"/markets/"+t+"/depth",a);return{status:e.status,data:e.data}}catch{}}async get_orders_by_market(t,e,a,s,r){let i={"pagination.skip":e,"pagination.limit":a,"pagination.descending":s,open:r};try{let e=await Ft.a.get(this.main_api+"/markets/"+t+"/orders",i);return{status:e.status,data:e.data}}catch{}}async get_order_by_market_orderid(t,e){let a="/markets/"+t+"/orders/"+e;try{let t=await Ft.a.get(this.main_api+a);return{status:t.status,data:t.data}}catch{}}async get_trades_by_market(t,e,a,s=!0){let r="/markets/"+t+"/trades",i={"pagination.skip":e,"pagination.limit":a,"pagination.descending":s};try{let t=await Ft.a.get(this.main_api+r,i);return{status:t.status,data:t.data}}catch{}}async get_latest_trade(t){let e="/markets/"+t+"/trades/latest";try{let t=await Ft.a.get(this.main_api+e);return{status:t.status,data:t.data}}catch{}}async get_trades_by_orderid(t){let e="/orders/"+t+"/trades";try{let t=await Ft.a.get(this.main_api+e);return{status:t.status,data:t.data}}catch{}}async get_allorders_by_orderid(t,e,a,s=!0){let r="/orders/"+t+"/versions",i={"pagination.skip":e,"pagination.limit":a,"pagination.descending":s};try{let t=await Ft.a.get(this.main_api+r,i);return{status:t.status,data:t.data}}catch{}}async get_order_by_pendingorderref(t){let e="/orders/"+t;try{let t=await Ft.a.get(this.main_api+e);return{status:t.status,data:t.data}}catch{}}async get_parties(){try{let t=await Ft.a.get(this.main_api+"/parties");return{status:t.status,data:t.data}}catch{}}async get_party_by_id(t){try{let e=await Ft.a.get(this.main_api+"/parties/"+t);return{status:e.status,data:e.data}}catch{}}async get_accounts_by_party(t,e,a,s){let r="/parties/"+t+"/accounts",i={marketID:e,type:a,asset:s};try{let t=await Ft.a.get(this.main_api+r,i);return{status:t.status,data:t.data}}catch{}}async get_margin_levels_by_party(t,e){let a="/parties/"+t+"/markets/"+e+"/margin";try{let t=await Ft.a.get(this.main_api+a);return{status:t.status,data:t.data}}catch{}}async get_orders_by_party(t,e=0,a=20,s=!0,r=!0){let i="/parties/"+t+"/orders",o={"pagination.skip":e,"pagination.limit":a,"pagination.descending":s,open:r};try{let t=await Ft.a.get(this.main_api+i,{params:o});return{status:t.status,data:t.data}}catch{return{status:404,data:"Get orders by party Failed."}}}async get_all_positions(){let t=T.pubKeys[0],e="/parties/"+t+"/positions";try{let t=await Ft.a.get(this.main_api+e);return{status:t.status,data:t.data}}catch{return{status:404,data:"Get positions by party Failed"}}}async get_positions_by_party_and_market(t,e){let a="/parties/"+t+"/positions",s={marketID:e};try{let t=await Ft.a.get(this.main_api+a,s);return{status:t.status,data:t.data}}catch{}}async get_trades_by_party(t,e="",a=0,s=20,r=!0){let i="/parties/"+t+"/trades",o={marketID:e,"pagination.skip":a,"pagination.limit":s,"pagination.descending":r};try{let t=await Ft.a.get(this.main_api+i,{params:o});return{status:t.status,data:t.data}}catch{return{status:404,data:"Get trades by party Failed"}}}async get_Statistics(){try{let t=await Ft.a.get(this.main_api+"/statistics");return{status:t.status,data:t.data}}catch{}}}var oe=new ie,ne=a("6d68"),le=a("ee98"),ce=a.n(le),de=a("859b"),ue=a.n(de);a("d355");s["default"].use(ue.a),s["default"].use(ne["a"]),s["default"].use(n.a),s["default"].use(p),s["default"].use(ce.a);var me={components:{Loading:n.a,HeaderSection:D,SideMenu:O,ModalBox:re},data(){return{loaderLabel:"Loading...",depositModalShown:!1,withdrawlModalShown:!1,loginModalShown:!1,logoutModalShown:!0,shouldOpen:!1,firstTime:!0}},computed:{showLoader(){return this.$store.getters.showLoader},isLoggedIn(){return this.$store.getters.isLoggedIn}},async created(){localStorage.shouldOpen=!0,b.$emit("ticker-connect"),this.getMarkets()},mounted(){this.loginListener=t=>this.fetchConfigsLogin(t.username),this.logoutListener=t=>this.fetchConfigsLogout(),this.sessionExpiryListener=()=>{w.isUserLoggedIn()&&this.$showErrorMsg({message:"Your session has expired. Please login again."}),v.$emit(f.userLogout)},v.$on(f.userLogin,this.loginListener),v.$on(f.userLogout,this.logoutListener),v.$on(f.userSessionExpired,this.sessionExpiryListener)},destroyed(){v.$off(f.userLogin,this.loginListener),v.$off(f.userLogout,this.logoutListener),v.$off(f.userSessionExpired,this.sessionExpiryListener)},methods:{async fetchConfigs(){this.$store.commit("addLoaderTask",1,!1),this.$store.commit("removeLoaderTask",1)},async fetchConfigsLogin(){this.$store.commit("addLoaderTask",1,!1),this.$store.commit("removeLoaderTask",1),this.toggleLoginModal()},async fetchConfigsLogout(){this.$store.commit("addLoaderTask",1,!1),this.$store.commit("removeLoaderTask",1),this.toggleLogoutModal()},toggleDepositModal(){this.depositModalShown=!this.depositModalShown},toggleWithdrawlModal(){this.withdrawlModalShown=!this.withdrawlModalShown},toggleLoginModal(){this.loginModalShown=!this.loginModalShown},toggleLogoutModal(){this.logoutModalShown=!this.logoutModalShown},closeBtnClicked(){sessionStorage.shouldOpen=!0},async getMarkets(){const t=await oe.get_markets();if(200==t.status){let e=[];for(let a=0;a<t.data.markets.length;a++){let s={};s.id=t.data.markets[a].id,s.data={},s.data.name=t.data.markets[a].name,s.data.instrument_name=t.data.markets[a].tradableInstrument.instrument.name,s.baseName=t.data.markets[a].tradableInstrument.instrument.baseName,s.quoteName=t.data.markets[a].tradableInstrument.instrument.quoteName,this.$store.commit("mappedMarkets",s),this.$store.commit("mappedMarketsbyName",s),e.push(s)}this.$store.commit("markets",e)}else this.$showErrorMsg({message:"Couldn't fetch Markets data. Some of the features may not function properly"})}}},he=me,ge=(a("cfd8"),Object(S["a"])(he,r,i,!1,null,null,null)),pe=ge.exports,ve=a("8c4f"),fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"history"},[a("h1",{staticClass:"fs20 os-regular c-white p20 m0 uk-text-uppercase"},[t._v("History")]),t._m(0),t.vegaFlag?a("div",[a("div",{staticClass:"uk-visible@m"},[a("vk-tabs",{staticClass:"pl20 pr20"},[a("vk-tabs-item",{attrs:{title:"Orders"}},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropbtn",staticStyle:{"text-transform":"capitalize"}},[t._v("VEGA")])]),a("vega-orders-history")],1),a("vk-tabs-item",{attrs:{title:"Trading"}},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropbtn",staticStyle:{"text-transform":"capitalize"}},[t._v("VEGA")])]),a("vega-trading-history")],1),a("vk-tabs-item",{attrs:{title:"Deposits "}},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropbtn",staticStyle:{"text-transform":"capitalize"}},[t._v("VEGA")])]),a("vega-deposit-history")],1),a("vk-tabs-item",{attrs:{title:"Withdrawal"}},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropbtn",staticStyle:{"text-transform":"capitalize"}},[t._v("VEGA")])]),a("div",[a("vega-pending-withdrawal-history")],1)])],1)],1),a("div",{staticClass:"uk-hidden@m",attrs:{id:"mobileDropdown"}},[a("vk-button",{attrs:{id:"tabBarDropdown",mode:"click"}},[t._v(t._s(t.vegaActiveTab))]),a("vk-dropdown",{attrs:{delayHide:1}},[a("vk-nav-dropdown",t._l(t.vegaTabs,(function(e){return a("vk-nav-item",{key:e,attrs:{title:e},on:{click:function(a){return t.onDropDownvegaTabChange(e)}}})})),1)],1),t._m(1),"Orders"===t.vegaActiveTab?a("vega-orders-history"):t._e(),"Trading"===t.vegaActiveTab?a("vega-trading-history"):t._e(),"Deposits"===t.vegaActiveTab?a("vega-deposit-history"):t._e(),"Withdrawal"===t.vegaActiveTab?a("vega-pending-withdrawal-history"):t._e()],1)]):t._e()])},be=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"pl20 pr20"},[a("div",[a("div",{staticClass:"settingstab-content",attrs:{id:"tab-a4"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropbtn",staticStyle:{"text-transform":"capitalize"}},[t._v("VEGA")])])}],ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vega-deposit-history"},[s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap2"}},[s("div",{staticClass:"sortButtons"},[s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("ID\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Currency (Symbol)\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Amount\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(401)}}},[t._v("Status\n                        "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})])]),s("div",{staticClass:"sortIcon"})]),s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap"}},[s("div",{staticClass:"right"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"searchBar",attrs:{id:"search",name:"search",type:"text",placeholder:"Search by Currency"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("input",{attrs:{id:"search_submit",value:"Rechercher",type:"submit"}})])])]),s("div",{staticClass:"uk-hidden@m"},[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{name:"search",type:"text",placeholder:"Search ..."},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("div",{staticClass:"search"})]),s("div",{staticClass:"container2"},[s("div",{attrs:{id:"mobileDropdown"}},[s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("ID\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Currency (Symbol)\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Amount\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(401)}}},[t._v("Status\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br")]),s("div",{staticClass:"search2"})])]),s("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[s("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),s("tbody",[s("tr",[s("td",{attrs:{colspan:"4"}},[t._v("\n                        "+t._s(t.displayText)+"\n                    ")])])])])])])},ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{id:"tableHeaders"}},[t._v("ID")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Currency (Symbol)")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Currency Name")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Amount")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Status")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Destination Address")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Transaction Hash")])])])}],Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-wrapper",style:{marginTop:t.mTop||"calc(50% - 30px)"}},[t._m(0)])},_e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"half-circle-spinner"},[a("div",{staticClass:"circle circle-1"}),a("div",{staticClass:"circle circle-2"})])}],we={name:"spinner",props:["mTop"],mounted(){}},Te=we,$e=(a("f637"),Object(S["a"])(Te,Ce,_e,!1,null,"ad3fe408",null)),Le=$e.exports,Ae={name:"vega-deposit-history",components:{Spinner:Le},data(){return{history:[],spinnerFlag:!0,sortBy:0,searchString:"",initialData:[],displayText:"Note: This feature is currently not supported with Vega Testnet"}},watch:{searchString:function(){this.updateData()}},created(){this.updateData()},methods:{formatDateTime(t){return pt(new Date(t))},copyReferral(t){let e=document.querySelector("#txhash"+t);e.select(),e.select(),document.execCommand("copy"),this.$showSuccessMsg({message:"Transaction Hash copied successfully."})},updateData(){this.history=this.initialData.filter(t=>t.currency.includes(this.searchString.toUpperCase())||t.id.toString().includes(this.searchString)||t.destinationAddress.toString().includes(this.searchString)),this.history=this.sortData(this.history)},sortData(t){switch(this.sortBy){case 0:return t.sort((t,e)=>e.id-t.id);case 1:return t.sort((t,e)=>t.id-e.id);case 101:return t.sort((t,e)=>(""+e.currency).localeCompare(t.currency));case 102:return t.sort((t,e)=>(""+t.currency).localeCompare(e.currency));case 201:return t.sort((t,e)=>e.amount-t.amount);case 202:return t.sort((t,e)=>t.amount-e.amount);case 301:return t.sort((t,e)=>e.movementLastUpdated-t.movementLastUpdated);case 302:return t.sort((t,e)=>t.movementLastUpdated-e.movementLastUpdated);case 401:return t.sort((t,e)=>(""+e.status).localeCompare(t.status));case 402:return t.sort((t,e)=>(""+t.status).localeCompare(e.status))}},sortDataBy(t){this.sortBy===t?this.sortBy+=1:this.sortBy=t,this.updateData()}}},Se=Ae,Ne=(a("ad26"),Object(S["a"])(Se,ke,ye,!1,null,"3972f891",null)),De=Ne.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vega-trading-history"},[s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap2"}},[s("div",{staticClass:"sortButtons"},[s("div",{staticClass:"sortButtons"},[s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("Execution Time\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Order Price\n                                "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Execution Amount\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Execution Price\n                            "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})])])]),s("div",{staticClass:"sortIcon"})]),s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap"}},[s("div",{staticClass:"right"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{id:"search",name:"search",type:"text",placeholder:"Search by Currency"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("input",{attrs:{id:"search_submit",value:"Rechercher",type:"submit"}})])])]),s("div",{staticClass:"uk-hidden@m"},[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{name:"search",type:"text",placeholder:"Search ..."},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("div",{staticClass:"search"})]),s("div",{staticClass:"container2"},[s("div",{attrs:{id:"mobileDropdown"}},[s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("Execution Time\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Order Price\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Execution Amount\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Execution Price\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br")]),s("div",{staticClass:"search2"})])]),s("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[s("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),s("tbody",[t._l(t.history,(function(e){return s("tr",[s("td",[t._v(t._s(e.marketName))]),s("td",[t._v(t._s(e.price))]),s("td",[t._v(t._s(e.size))]),s("td",[t._v(t._s(e.aggressor))]),s("td",[t._v(t._s(e.buyOrderID))]),s("td",[t._v(t._s(e.sellOrderID))]),s("td",[t._v(t._s(e.createdAt))])])})),s("tr",[s("td",{attrs:{colspan:"4"}},[t._v("\n                        "+t._s(t.displayText)+"\n                    ")])])],2)])])])},Me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{id:"tableHeaders"}},[t._v("Market Name")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Price")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Size")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Aggressor")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Buy Order ID")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Sell Order ID")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Created At")])])])}],xe={name:"vega-trading-history",components:{Spinner:Le},data(){return{history:[],spinnerFlag:!0,sortBy:0,searchString:"",initialData:[],displayText:"Note: This feature is currently not supported with Vega Testnet"}},watch:{searchString:function(){this.updateData()}},created(){this.userLoginListener=()=>this.getRecentTrades(),this.userLogoutListener=()=>this.setTradesEmpty(),v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)},methods:{getRecentTrades(){this.history=this.$store.getters.recentTrades},setTradesEmpty(){this.history=[]},formatDateTime(t){return pt(new Date(t))},updateData(){this.history=this.initialData.filter(t=>t.Pair.includes(this.searchString.toUpperCase())||t.ORDER_ID.toString().includes(this.searchString)||t.id.toString().includes(this.searchString)),this.history=this.sortData(this.history)},sortData(t){switch(this.sortBy){case 0:return t.reverse();case 1:return t;case 101:return t.sort((t,e)=>e.ORDER_PRICE-t.ORDER_PRICE);case 102:return t.sort((t,e)=>t.ORDER_PRICE-e.ORDER_PRICE);case 201:return t.sort((t,e)=>e.EXEC_AMOUNT-t.EXEC_AMOUNT);case 202:return t.sort((t,e)=>t.EXEC_AMOUNT-e.EXEC_AMOUNT);case 301:return t.sort((t,e)=>e.EXEC_PRICE-t.EXEC_PRICE);case 302:return t.sort((t,e)=>t.EXEC_PRICE-e.EXEC_PRICE)}},sortDataBy(t){this.sortBy===t?this.sortBy+=1:this.sortBy=t,this.updateData()}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)}},Be=xe,Ie=(a("210d"),Object(S["a"])(Be,Pe,Me,!1,null,"80aed580",null)),Oe=Ie.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vega-completed-withdrawal-history"},[a("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[t._v("\n                        "+t._s(t.displayText)+" \n                    ")])])])])])])},Ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{id:"tableHeaders"}},[t._v("ID")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Symbol")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Currency Name")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Amount")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Movement Last Updated On")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Destination Address")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Transaction Hash")])])])}],Ke={name:"vega-completed-withdrawal-history",components:{Spinner:Le},data(){return{history:[],spinnerFlag:!0,displayText:"Note: This feature is currently not supported with Vega Testnet"}},async created(){let t=[];this.history=t,0===this.history.length&&(this.displayText="Note: This feature is currently not supported with Vega Testnet"),this.$store.commit("removeLoaderTask",1)},methods:{formatDateTime(t){return pt(new Date(t))},copyReferral(t){let e=document.querySelector("#txhash"+t);e.select(),e.select(),document.execCommand("copy"),alert("Copied the text: "+e.value),this.$showSuccessMsg({message:"Transaction Hash copied successfully."})}}},Fe=Ke,Ue=(a("4fee"),Object(S["a"])(Fe,Ee,Ve,!1,null,"8874a33e",null)),Re=Ue.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vega-pending-withdrawal-history"},[s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap2"}},[s("div",{staticClass:"sortButtons"},[s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("ID\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Currency Symbol\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Amount\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Last Updated\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(401)}}},[t._v("Status\n                        "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})])]),s("div",{staticClass:"sortIcon"})]),s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap"}},[s("div",{staticClass:"right"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"searchBar",attrs:{id:"search",name:"search",type:"text",placeholder:"Search by Currency"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("input",{attrs:{id:"search_submit",value:"Rechercher",type:"submit"}})])])]),s("div",{staticClass:"uk-hidden@m"},[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{name:"search",type:"text",placeholder:"Search ..."},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("div",{staticClass:"search"})]),s("div",{staticClass:"container2"},[s("div",{attrs:{id:"mobileDropdown"}},[s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("ID\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Currency Symbol\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Amount\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Last Updated\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(401)}}},[t._v("Status\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br")]),s("div",{staticClass:"search2"})])]),s("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[s("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),s("tbody",[s("tr",[s("td",{attrs:{colspan:"4"}},[t._v("\n                        "+t._s(t.displayText)+"\n                    ")])])])])])])},He=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{id:"tableHeaders"}},[t._v("ID")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Currency Symbol")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Currency Name")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Amount")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Status")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Movement Last Updated On")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Destination Address")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Transaction Hash")])])])}],je={name:"vega-pending-withdrawal-history",components:{Spinner:Le},data(){return{history:[],spinnerFlag:!0,sortBy:0,searchString:"",initialData:[],displayText:"Note: This feature is currently not supported with Vega Testnet"}},watch:{searchString:function(){this.updateData()}},created(){this.$store.commit("addLoaderTask",1,!1)},methods:{formatDateTime(t){return pt(new Date(t))},copyReferral(t){let e=document.querySelector("#txhash"+t);e.select(),e.select(),document.execCommand("copy"),this.$showSuccessMsg({message:"Transaction Hash copied successfully."})},updateData(){this.history=this.initialData.filter(t=>t.currency.includes(this.searchString.toUpperCase())||t.id.toString().includes(this.searchString)||t.destinationAddress.toString().includes(this.searchString)),this.history=this.sortData(this.history)},sortData(t){switch(this.sortBy){case 0:return t.sort((t,e)=>e.id-t.id);case 1:return t.sort((t,e)=>t.id-e.id);case 101:return t.sort((t,e)=>(""+e.currency).localeCompare(t.currency));case 102:return t.sort((t,e)=>(""+t.currency).localeCompare(e.currency));case 201:return t.sort((t,e)=>e.amount-t.amount);case 202:return t.sort((t,e)=>t.amount-e.amount);case 301:return t.sort((t,e)=>e.movementLastUpdated-t.movementLastUpdated);case 302:return t.sort((t,e)=>t.movementLastUpdated-e.movementLastUpdated);case 401:return t.sort((t,e)=>(""+e.status).localeCompare(t.status));case 402:return t.sort((t,e)=>(""+t.status).localeCompare(e.status))}},sortDataBy(t){this.sortBy===t?this.sortBy+=1:this.sortBy=t,this.updateData()}}},qe=je,Qe=(a("e167"),Object(S["a"])(qe,ze,He,!1,null,"2b290990",null)),Ge=Qe.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vega-trading-history"},[s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap2"}},[s("div",{staticClass:"sortButtons"},[s("div",{staticClass:"sortButtons"},[s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("ID\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Order Status\n                                "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Market\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Amount\n                            "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(401)}}},[t._v("Price\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})])])]),s("div",{staticClass:"sortIcon"})]),s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap"}},[s("div",{staticClass:"right"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{id:"search",name:"search",type:"text",placeholder:"Search by Currency"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("input",{attrs:{id:"search_submit",value:"Rechercher",type:"submit"}})])])]),s("div",{staticClass:"uk-hidden@m"},[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{name:"search",type:"text",placeholder:"Search ..."},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("div",{staticClass:"search"})]),s("div",{staticClass:"container2"},[s("div",{attrs:{id:"mobileDropdown"}},[s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("ID\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("Order Status\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Market\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Price\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(401)}}},[t._v("Amount\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br")]),s("div",{staticClass:"search2"})])]),s("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[s("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),s("tbody",[s("tr",[s("td",{attrs:{colspan:"4"}},[t._v("\n                        "+t._s(t.displayText)+"\n                    ")])])])])])])},Je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{id:"tableHeaders"}},[t._v("ID")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Market")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Created At")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Amount")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Price Details")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Remaining Amount")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Type")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Time In Force")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("Order Status")])])])}],Ye={name:"vega-orders-history",components:{Spinner:Le},data(){return{history:[],spinnerFlag:!0,sortBy:0,searchString:"",initialData:[],displayText:"Note: This feature is currently not supported with Vega Testnet"}},async created(){let t=[];this.initialData=t},watch:{searchString:function(){this.updateData()}},methods:{formatDateTime(t){return pt(new Date(t))},updateData(){this.history=this.initialData.filter(t=>t.symbol.includes(this.searchString.toUpperCase())||t.type.toString().includes(this.searchString)||t.id.toString().includes(this.searchString)),this.history=this.sortData(this.history),this.history=this.history.reverse()},sortData(t){switch(this.sortBy){case 0:return t.reverse();case 1:return t;case 101:return t.sort((t,e)=>e.order_status-t.order_status);case 102:return t.sort((t,e)=>t.order_status-e.order_status);case 201:return t.sort((t,e)=>e.symbol-t.symbol);case 202:return t.sort((t,e)=>t.symbol-e.symbol);case 301:return t.sort((t,e)=>e.amount-t.amount);case 302:return t.sort((t,e)=>t.amount-e.amount);case 401:return t.sort((t,e)=>e.price-t.price);case 402:return t.sort((t,e)=>t.price-e.price)}},sortDataBy(t){this.sortBy===t?this.sortBy+=1:this.sortBy=t,this.updateData()}}},Xe=Ye,Ze=(a("7dd1"),Object(S["a"])(Xe,We,Je,!1,null,"3b821fba",null)),ta=Ze.exports,ea=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vega-trading-history"},[s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap2"}},[s("div",{staticClass:"sortButtons"},[s("div",{staticClass:"sortButtons"},[s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("Market\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("P/L Percentage\n                                "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Status\n                          "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Amount\n                            "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})])])]),s("div",{staticClass:"sortIcon"})]),s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap"}},[s("div",{staticClass:"right"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{id:"search",name:"search",type:"text",placeholder:"Search by Currency"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("input",{attrs:{id:"search_submit",value:"Rechercher",type:"submit"}})])])]),s("div",{staticClass:"uk-hidden@m"},[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{name:"search",type:"text",placeholder:"Search ..."},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("div",{staticClass:"search"})]),s("div",{staticClass:"container2"},[s("div",{attrs:{id:"mobileDropdown"}},[s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("Market\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(101)}}},[t._v("P/L Percentage\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Status\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Amount\n                              "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br")]),s("div",{staticClass:"search2"})])]),s("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[s("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),s("tbody",[s("tr",[s("td",{attrs:{colspan:"4"}},[t._v("\n                        "+t._s(t.displayText)+"\n                    ")])])])])])])},aa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{id:"tableHeaders"}},[t._v("Market")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("STATUS")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("AMOUNT")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("BASE PRICE")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("MARGIN FUNDING")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("P/L")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("P/L PERCENTAGE")]),a("th",{attrs:{id:"tableHeaders"}},[t._v("LEVERAGE")])])])}],sa={name:"vega-trading-history",components:{Spinner:Le},data(){return{history:[],spinnerFlag:!0,sortBy:0,searchString:"",initialData:[],displayText:"Note: This feature is currently not supported with Vega Testnet"}},async created(){this.updateData()},watch:{searchString:function(){this.updateData()}},methods:{formatDateTime(t){return pt(new Date(t))},updateData(){this.history=this.initialData.filter(t=>t.SYMBOL.includes(this.searchString.toUpperCase())||t.PL.toString().includes(this.searchString)||t.ID.toString().includes(this.searchString)),this.history=this.sortData(this.history)},sortData(t){switch(this.sortBy){case 0:return t.reverse();case 1:return t;case 101:return t.sort((t,e)=>e.STATUS-t.STATUS);case 102:return t.sort((t,e)=>t.STATUS-e.STATUS);case 201:return t.sort((t,e)=>e.AMOUNT-t.AMOUNT);case 202:return t.sort((t,e)=>t.AMOUNT-e.AMOUNT);case 301:return t.sort((t,e)=>e.PL_PERC-t.PL_PERC);case 302:return t.sort((t,e)=>t.PL_PERC-e.PL_PERC)}},sortDataBy(t){this.sortBy===t?this.sortBy+=1:this.sortBy=t,this.updateData()}}},ra=sa,ia=(a("792f"),Object(S["a"])(ra,ea,aa,!1,null,"7196cf66",null)),oa=ia.exports,na={name:"history",components:{vegaDepositHistory:De,vegaTradingHistory:Oe,vegaCompletedWithdrawalHistory:Re,vegaPendingWithdrawalHistory:Ge,vegaOrdersHistory:ta,vegaPositionsHistory:oa},data(){return{selectedExchange:"vega",vegaFlag:!0,vegaActiveTab:"Orders",vegaTabs:["Orders","Trading","Positions","Deposits","Withdrawal"]}},methods:{onDropDownvegaTabChange(t){this.vegaActiveTab=t}}},la=na,ca=(a("34ff"),Object(S["a"])(la,fe,be,!1,null,"05fd75fa",null)),da=ca.exports,ua=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wallet-summary-vega"},[s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap2"}},[s("div",{staticClass:"sortButtons"},[s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("Currency\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Free Balance\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("span",{staticClass:"sortButton",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Total Balance\n                    "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})])]),s("div",{staticClass:"sortIcon"})]),s("div",{staticClass:"uk-visible@m",attrs:{id:"wrap"}},[s("div",{staticClass:"right"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{id:"search",name:"search",type:"text",placeholder:"Search by Pair"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("input",{attrs:{id:"search_submit",value:"Rechercher",type:"submit"}})])])]),s("div",{staticClass:"uk-hidden@m"},[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],attrs:{name:"search",type:"text",placeholder:"Search ..."},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),s("div",{staticClass:"search"})]),s("div",{staticClass:"container2"},[s("div",{attrs:{id:"mobileDropdown"}},[s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(0)}}},[t._v("Currency\n                                  "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(201)}}},[t._v("Free Balance\n                                  "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br"),s("span",{staticClass:"sortButtonD",on:{click:function(e){return t.sortDataBy(301)}}},[t._v("Total Balance\n                                  "),s("img",{staticClass:"sortIconBtn",attrs:{src:a("003a")}})]),s("br")]),s("div",{staticClass:"search2"})])]),s("div",{attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[s("table",{staticClass:"svh-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-x":"true","data-scroll-y":"294px"}},[t._m(0),t.spinnerFlag?s("tbody",[s("spinner",{attrs:{id:"spinner"}})],1):s("tbody",[0===t.vegaSummary.length?s("tr",[s("td",{staticStyle:{"text-align":"center","font-size":"32px"},attrs:{colspan:"4"}},[t._v("\n                        Notice: This feature is not supported in Vega Testnet.\n                    ")])]):t._e()])])])])},ma=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Currency")]),a("th",[t._v("Free Balance")]),a("th",[t._v("Locked Balance")]),a("th",[t._v("Total Balance")])])])}],ha={name:"wallet-summary-vega",components:{Spinner:Le},data(){return{vegaSummary:[],spinnerFlag:!0,sortBy:0,searchString:"",initialData:[]}},watch:{searchString:function(){this.updateData()}},async created(){let t=[];this.spinnerFlag=!1,this.initialData=t},methods:{updateData(){this.vegaSummary=this.initialData.filter(t=>t.asset.includes(this.searchString.toUpperCase())),this.vegaSummary=this.sortData(this.vegaSummary)},sortData(t){switch(this.sortBy){case 0:return t.reverse();case 1:return t;case 201:return t.sort((t,e)=>parseFloat(e.free)-parseFloat(t.free));case 202:return t.sort((t,e)=>parseFloat(t.free)-parseFloat(e.free));case 301:return t.sort((t,e)=>parseFloat(e.free)+parseFloat(e.locked)-(parseFloat(t.free)+parseFloat(t.locked)));case 302:return t.sort((t,e)=>parseFloat(t.free)+parseFloat(t.locked)-(parseFloat(e.free)+parseFloat(e.locked)))}},sortDataBy(t){this.sortBy===t?this.sortBy+=1:this.sortBy=t,this.updateData()}}},ga=ha,pa=(a("38a2"),Object(S["a"])(ga,ua,ma,!1,null,"a611fc18",null)),va=pa.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isLoggedIn?a("div",{staticClass:"active-orders"},[a("div",{staticClass:"accordionToggleButton",staticStyle:{"text-align":"center"}},[t._v("Active Orders\n    ")]),a("div",[a("div",{attrs:{id:"activeTrades"}},[a("div",{attrs:{id:"recentSimplebar","data-simplebar-auto-hide":"false"}},[a("table",[t._m(0),a("tbody",[t._l(t.orders,(function(e){return a("tr",[a("td",{staticClass:"bg-ebony-clay c-white"},[t._v(t._s(e.market))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.size))]),a("td",{staticClass:"c-red"},[t._v(t._s(e.remaining))]),a("td",{staticClass:"c-green"},[t._v(t._s(Number(e.price)/1e5))]),a("td",{class:{"c-green":"Buy"==e.side,"c-red":"Sell"==e.side}},[t._v(t._s(e.side))]),a("td",[t._v(t._s(e.orderExecType))]),a("td",[t._v(t._s(e.creationTime))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.status))]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.cancelOrder(e)}}},[a("span",{staticClass:"mr5Close"},[t._v("Cancel")])])])])})),0!=t.orders.length?a("div",[a("tr",[a("button",{staticClass:"btn",on:{click:function(e){return t.cancelAllOrders()}}},[t._v("CANCEL ALL ORDERS")]),a("br"),a("br")])]):t._e()],2)])])])])]):t._e()},ba=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Market")]),a("th",[t._v("Size")]),a("th",[t._v("Remaining")]),a("th",[t._v("Price")]),a("th",[t._v("Side")]),a("th",[t._v("Order Exec. Type")]),a("th",[t._v("Created At")]),a("th",[t._v("Status")]),a("th",[t._v("Cancel")])])])}],ka=a("9530"),ya=a.n(ka),Ca={name:"active-trades-mobile",components:{},props:{open:{type:Boolean}},data(){return{orders:this.$store.getters.activeOrders,tableHeight:"",orders_array:[],isLoggedIn:!1,partiesId:T.currentActiveKey}},apollo:{$subscribe:{orders:{query:ya.a`subscription name($partyId: String!) {
                  orders (partyId:$partyId) {
                      id
                      price
                      side
                      size
                      remaining
                      timeInForce
                      market {
                        id
                        name
                      }
                      status
                      createdAt
                  }
                }`,variables(){return{partyId:this.partiesId}},result({data:t,loading:e}){let a=t.orders;for(let s=0;s<a.length;s++)if(null==a[s])this.$showErrorMsg({message:" Recently entered order has been rejected by the Vega Network"});else if("Rejected"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size;this.$showErrorMsg({message:t+" has been rejected by the Vega Network"})}else if("Filled"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size;this.$showSuccessMsg({message:t+" has been filled"})}else if("Stopped"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size;this.$showErrorMsg({message:t+" has been stopped by the Vega Network"})}else if("PartiallyFilled"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size+" has been partially filled (Filled = "+(Number(a[s].size)-Number(a[s].remaining))+", Remaining = "+Number(a[s].remaining);this.$showSuccessMsg({message:t+" by the Vega Network"}),this.addNewOrder(a[s])}else if("Cancelled"==a[s].status){this.$store.commit("removeFromActiveOrders",a[s].id);let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size+" with orderID - "+a[s].id;this.$showSuccessMsg({message:t+" has been successfully cancelled"})}else"Active"==a[s].status&&this.addNewOrder(a[s])}}}},mounted(){this.userLoginListener=()=>this.getActiveOrders(),this.userLogoutListener=()=>this.deleteOrders(),v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)},methods:{addNewOrder(t){let e=this.mapNewOrder(t);this.$store.commit("addToActiveOrders",e)},async getActiveOrders(){this.$store.commit("activeOrders",[]),this.orders=[],this.partiesId=T.currentActiveKey;const t=await oe.get_orders_by_party(this.partiesId);if(200==t.status){for(let e=0;e<t.data.orders.length;e++){let a=this.mapNewOrder_API(t.data.orders[e]);this.$store.commit("addToActiveOrders",a)}this.orders=this.$store.getters.activeOrders}else this.$showErrorMsg({message:"Something went wrong. Couldn't fetch orders"})},deleteOrders(){this.$store.commit("activeOrders",[]),this.orders=[]},mapNewOrder_API(t){let e={};return e.id=t.id,e.price=t.price,e.side=t.side,e.size=t.size,e.remaining=t.remaining,e.marketID=t.marketID,e.market=this.getNameforMarketID(t.marketID),e.status=t.status,e.orderExecType=t.timeInForce,e.creationTime=t.createdAt,e},getNameforMarketID(t){this.$store.getters.mappedMarkets;if(this.$store.getters.mappedMarkets.has(t)){let e=this.$store.getters.mappedMarkets.get(t);return e.name}return"undefined"},mapNewOrder(t){let e={};return e.id=t.id,e.price=t.price,e.side=t.side,e.size=t.size,e.remaining=t.remaining,e.market=t.market.name,e.marketID=t.market.id,e.status=t.status,e.orderExecType=t.timeInForce,e.creationTime=t.createdAt,e},toggleOpen(){this.$emit("toggle-open")},formatDateTime(t){return pt(new Date(t))},async cancelAllOrders(){for(let t=0;t<this.orders.length;t++){await this.cancelOrder(this.orders[t])}this.getActiveOrders()},async cancelOrder(t){this.$store.commit("addLoaderTask",1,!1);try{const a=await this.$apollo.mutate({mutation:ya.a`mutation prepareOrderCancel($id: ID!, $partyId: String!, $marketId: String!) {
            prepareOrderCancel(id:$id, partyId:$partyId,marketId:$marketId) {
              blob
            }
          }`,variables:{id:t.id,partyId:this.partiesId,marketId:t.marketID}});let s=a.data.prepareOrderCancel.blob;try{const e=await oe.signtx(s,!0);if(200==e.status){let e="Order Cancellation request for orderID: "+t.id+" has been successfully signed and propogated into the chain.";this.$showSuccessMsg({message:e})}else{let t="Deletion request's signature transaction failed. Please try again";this.$$showErrorMsg({message:t})}}catch(e){let t=" Order signature for deletion request returned error. Please try again";this.$$showErrorMsg({message:t})}}catch(a){let t=" Order deletion request preparation returned error. Please try again";this.$$showErrorMsg({message:t})}}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener),v.$off(f.pubKeyChanged,this.userLoginListener)}},_a=Ca,wa=(a("33ff"),Object(S["a"])(_a,fa,ba,!1,null,"8c105d5e",null)),Ta=wa.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isLoggedIn?a("div",{staticClass:"recent-trades"},[a("div",{staticClass:"accordionToggleButton",staticStyle:{"text-align":"center"}},[t._v("\n        Recent Trades\n    ")]),a("div",[a("div",{attrs:{id:"activeTrades"}},[a("div",{attrs:{id:"recentSimplebar","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",{staticStyle:{height:"fit-content"}},[t._m(0),a("tbody",t._l(t.trades,(function(e){return a("tr",[a("td",{staticClass:"bg-ebony-clay c-white"},[t._v(t._s(e.marketName))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.size))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.price.toFixed(5)))]),a("td",[t._v(t._s((e.price*e.size).toFixed(5)))]),a("td",{class:{"c-green":"Buy"==e.aggressor,"c-red":"Sell"==e.aggressor}},[t._v(t._s(e.aggressor))]),a("td",[t._v(t._s(e.createdAt))])])})),0)])])])])]):t._e()},La=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Market")]),a("th",[t._v("Size")]),a("th",[t._v("Price")]),a("th",[t._v("Total Price")]),a("th",[t._v("Buy/Sell")]),a("th",[t._v("Created At")])])])}],Aa={name:"recent-trades-mobile",props:{open:{type:Boolean}},data(){return{trades:this.$store.getters.recentTrades,isLoggedIn:!1,partiesId:"RTJVFCMFZZQQLLYVSXTWEN62P6AH6OCN"}},apollo:{$subscribe:{positions:{query:ya.a`subscription name($partyId: String!) {
                    trades (partyId: $partyId) {
                        id
                        market {
                          name
                        }
                        price
                        size
                        aggressor
                        buyOrder
                        sellOrder
                        createdAt
                    }
                  }`,variables(){return{partyId:this.partiesId}},result({data:t,loading:e}){let a=t.trades;this.subcribeToTrades(a)}}}},mounted(){this.userLoginListener=()=>this.getRecentTrades(),this.userLogoutListener=()=>this.setTradesEmpty(),v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener)},methods:{async getRecentTrades(){this.partiesId=T.currentActiveKey;const t=await oe.get_trades_by_party(this.partiesId);if(200==t.status){for(let e=0;e<t.data.trades.length;e++)this.addNewTrade(t.data.trades[e]);this.trades=this.$store.getters.recentTrades}else this.$showErrorMsg({message:"Something went wrong. Couldn't fetch recent Trades"})},setTradesEmpty(){this.$store.commit("recentTrades",[]),this.trades=[]},subcribeToTrades(t){for(let e=0;e<t.length;e++){let a=[];a.marketName=t[e].market.name,a.price=Number(t[e].price)/1e5,a.size=Number(t[e].size),a.aggressor=t[e].aggressor,a.buyOrderID=t[e].buyOrderID,a.sellOrderID=t[e].sellOrderID,a.createdAt=t[e].createdAt,this.$store.commit("addToRecentTrades",a)}},addNewTrade(t){let e=[];e.marketName=this.getNameforMarketID(t.marketID),e.price=Number(t.price)/1e5,e.size=Number(t.size),e.aggressor=t.aggressor,e.buyOrderID=t.buyOrder,e.sellOrderID=t.sellOrder,e.createdAt=t.timestamp,this.$store.commit("addToRecentTrades",e)},getNameforMarketID(t){this.$store.getters.mappedMarkets;if(this.$store.getters.mappedMarkets.has(t)){let e=this.$store.getters.mappedMarkets.get(t);return e.name}return"undefined"},toggleOpen(){this.$emit("toggle-open")},formatDateTime(t){return pt(new Date(t))}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener)}},Sa=Aa,Na=(a("55a1"),Object(S["a"])(Sa,$a,La,!1,null,"0e3a629d",null)),Da=Na.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isLoggedIn?a("div",{staticClass:"positions"},[a("div",{staticClass:"accordionToggleButton",staticStyle:{"text-align":"center"}},[t._v("Positions\n    ")]),a("div",[a("div",{class:{closed:t.open},attrs:{id:"activeTrades"}},[a("div",{attrs:{id:"recentSimplebar","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(0),a("tbody",[t._l(t.positions_array,(function(e){return a("tr",[a("td",{staticClass:"bg-ebony-clay c-white"},[t._v(t._s(e.value.market_name))]),a("td",{},[t._v(t._s(e.value.averageEntryPrice))]),a("td",{class:{"c-green":e.value.openVolume>=0,"c-red":0>e.value.openVolume}},[t._v(t._s(e.value.openVolume))]),a("td",{class:{"c-green":e.value.realisedPNL>=0,"c-red":0>e.value.realisedPNL}},[t._v(t._s(e.value.realisedPNL))]),a("td",{class:{"c-green":e.value.unrealisedPNL>=0,"c-red":0>e.value.unrealisedPNL}},[t._v(t._s(e.value.unrealisedPNL))]),a("td",{staticClass:"c-pancho"},[t._v(t._s(e.value.maintenanceLevel))]),a("td",{staticClass:"c-pancho"},[t._v(t._s(e.value.searchLevel))]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.closePosition(e.value)}}},[a("span",{staticClass:"mr5Close"},[t._v("Close")])])]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.cancelAllOrders(e.value)}}},[a("span",{staticClass:"mr5Close"},[t._v("Cancel All")])])]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.closePositionAndCancelOrders(e.value)}}},[a("span",{staticClass:"mr5Close"},[t._v("Close & Cancel All")])])])])})),0!=t.positions_array.length?a("div",[a("tr",[a("td",[a("button",{staticClass:"btn",on:{click:function(e){return t.closeAllPositions()}}},[t._v("EXIT ALL POSITIONS")])]),a("td",[a("button",{staticClass:"btn2",on:{click:function(e){return t.closeAllPositionsAndCancelAllOrders()}}},[t._v("EXIT ALL POSITIONS & CANCEL ALL ORDERS")])])]),a("br")]):t._e()],2)])])])])]):t._e()},Ma=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-visible"},[a("tr",[a("th",[t._v("Market")]),a("th",[t._v("Average Entry Price")]),a("th",[t._v("Open Volume")]),a("th",[t._v("Realised PNL")]),a("th",[t._v("Unrealised PNL")]),a("th",[t._v("Maintenance Level Margin")]),a("th",[t._v("Search Level Margin")]),a("th",[t._v("Exit Position")]),a("th",[t._v("Cancel All Orders")]),a("th",[t._v("Exit & Cancel")])])])}],xa={name:"positions-mobile",components:{Spinner:Le},props:{parentHeight:Number,open:{type:Boolean}},data(){return{positions:[],markets:[],subs_positions:new Map,positions_array:[],isLoggedIn:!1,partiesId:"RTJVFCMFZZQQLLYVSXTWEN62P6AH6OCN",totalRealizedPNL_VUSD:0,totalUnrealizedPNL_VUSD:0,totalRealizedPNL_BTC:0,totalUnrealizedPNL_BTC:0,dropdownSelections:[],dropdownMarkets:this.$store.getters.markets}},apollo:{$subscribe:{positions:{query:ya.a`subscription name($partyId: String!) {
                    positions (partyId: $partyId) {
                        market {
                          id
                          name
                        }
                        openVolume
                        realisedPNL
                        unrealisedPNL
                        averageEntryPrice
                        margins{
                          maintenanceLevel
                          searchLevel
                          initialLevel
                          collateralReleaseLevel
                        }
                      }
                    }`,variables(){return{partyId:this.partiesId}},result({data:t,loading:e}){let a=t.positions;this.subcribeToPositions(a)}}}},mounted(){this.userLoginListener=()=>this.setPubKey(),this.userLogoutListener=()=>this.positions=[],v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)},methods:{setPubKey(){this.positions_array=[],this.positions=[],this.dropdownMarkets=[];let t=this.$store.getters.markets;for(let e=0;e<t.length;e++){let a={};a.id=t[e].id,a.name=t[e].data.name,this.dropdownMarkets.push(a)}this.markets=this.$store.getters.mappedMarketsbyName,this.$store.commit("totalRealizedPNL_VUSD",0),this.$store.commit("totalUnrealizedPNL_VUSD",0),this.$store.commit("totalRealizedPNL_BTC",0),this.$store.commit("totalUnrealizedPNL_BTC",0),this.partiesId=T.currentActiveKey},subcribeToPositions(t){let e=[];e.averageEntryPrice=(Number(t.averageEntryPrice)/1e5).toFixed(5),e.openVolume=Number(t.openVolume),e.realisedPNL=(Number(t.realisedPNL)/1e5).toFixed(5),e.unrealisedPNL=(Number(t.unrealisedPNL)/1e5).toFixed(5),e.maintenanceLevel=(Number(t.margins[0].maintenanceLevel)/1e5).toFixed(5),e.searchLevel=(Number(t.margins[0].searchLevel)/1e5).toFixed(5),e.collateralReleaseLevel=(Number(t.margins[0].collateralReleaseLevel)/1e5).toFixed(5),e.initialLevel=(Number(t.margins[0].initialLevel)/1e5).toFixed(5),e.market_name=t.market.name,e.marketID=t.market.id,this.subs_positions.set(String(t.market.id),e),this.positions_array=Array.from(this.subs_positions,([t,e])=>({name:t,value:e})),this.totalRealizedPNL_VUSD=0,this.totalUnrealizedPNL_VUSD=0,this.totalRealizedPNL_BTC=0,this.totalUnrealizedPNL_BTC=0;for(let a=0;a<this.positions_array.length;a++)if(this.$store.getters.mappedMarketsbyName.has(this.positions_array[a].value.market_name)){let t=this.$store.getters.mappedMarketsbyName.get(this.positions_array[a].value.market_name);"VUSD"==t.quoteName&&(this.totalRealizedPNL_VUSD=Number(this.totalRealizedPNL_VUSD)+Number(this.positions_array[a].value.realisedPNL),this.totalUnrealizedPNL_VUSD=Number(this.totalUnrealizedPNL_VUSD)+Number(this.positions_array[a].value.unrealisedPNL),this.$store.commit("totalRealizedPNL_VUSD",this.totalRealizedPNL_VUSD),this.$store.commit("totalUnrealizedPNL_VUSD",this.totalUnrealizedPNL_VUSD)),"BTC"==t.quoteName&&(this.totalRealizedPNL_BTC=Number(this.totalRealizedPNL_BTC)+Number(this.positions_array[a].value.realisedPNL),this.totalUnrealizedPNL_BTC=Number(this.totalUnrealizedPNL_BTC)+Number(this.positions_array[a].value.unrealisedPNL),this.$store.commit("totalRealizedPNL_BTC",this.totalRealizedPNL_BTC),this.$store.commit("totalUnrealizedPNL_BTC",this.totalUnrealizedPNL_BTC))}},toggleOpen(){this.$emit("toggle-open")},userLogoutListener(){this.positions_array=[],this.positions=[],this.$store.commit("totalRealizedPNL",0),this.$store.commit("totalUnrealizedPNL",0)},async closeAllPositions(){let t=this.positions_array;for(let e=0;e<t.length;e++)if(0!=t[e].value.openVolume){await this.closePosition(t[e].value)}},async closeAllPositionsAndCancelAllOrders(){let t=this.positions_array;for(let e=0;e<t.length;e++)if(0!=t[e].value.openVolume){await this.closePositionAndCancelOrders(t[e].value)}this.$showSuccessMsg({message:"All Positions have been closed"}),this.$showSuccessMsg({message:"All Active Orders have been cancelled"})},async closePositionAndCancelOrders(t){await this.closePosition(t);this.$showSuccessMsg({message:"The Position for the market '"+t.market_name+"' has been closed"});this.$store.getters.activeOrders,await this.cancelAllOrders(t)},async cancelAllOrders(t){let e=this.$store.getters.activeOrders;for(let a=0;a<e.length;a++)if(t.marketID==e[a].marketID){await this.cancelOrder(e[a])}this.$showSuccessMsg({message:"All active Orders for the market '"+t.market_name+"' have been cancelled"})},async closePosition(t){if(Number(t.openVolume)>0){const e=await VegaProtocolService.submitOrder_market(t.marketID,t.openVolume,"Sell","MARKET","FOK");200==e.status?this.$showSuccessMsg({message:t.market_name+" - "+e.message}):(this.$showErrorMsg({message:t.market_name+" - "+e.message}),this.$showErrorMsg({message:"Could\t close position. Please try again"}))}else if(Number(t.openVolume)<0){const e=await VegaProtocolService.submitOrder_market(t.marketID,Math.abs(Number(t.openVolume)).toString(),"Buy","MARKET","FOK");200==e.status?this.$showSuccessMsg({message:t.market_name+" - "+e.message}):(this.$showErrorMsg({message:t.market_name+" - "+e.message}),this.$showErrorMsg({message:"Could\t close position. Please try again"}))}else 0==Number(t.openVolume)&&this.$showErrorMsg({message:"There are no active positions for the selected market"})},async cancelOrder(t){this.$store.commit("addLoaderTask",1,!1);try{const a=await this.$apollo.mutate({mutation:ya.a`mutation prepareOrderCancel($id: ID!, $partyId: String!, $marketId: String!) {
            prepareOrderCancel(id:$id, partyId:$partyId,marketId:$marketId) {
              blob
            }
          }`,variables:{id:t.id,partyId:this.partiesId,marketId:t.marketID}});let s=a.data.prepareOrderCancel.blob;try{const e=await VegaProtocolService.signtx(s,!0);if(200==e.status){let e="Order Cancellation request for orderID: "+t.id+" has been successfully signed and propogated into the chain.";this.$showSuccessMsg({message:e})}else{let t="Deletion request's signature transaction failed. Please try again";this.$$showErrorMsg({message:t})}}catch(e){let t=" Order signature for deletion request returned error. Please try again";this.$$showErrorMsg({message:t})}}catch(a){let t=" Order deletion request preparation returned error. Please try again";this.$$showErrorMsg({message:t})}}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)}},Ba=xa,Ia=(a("4cff"),Object(S["a"])(Ba,Pa,Ma,!1,null,"3b18b65a",null)),Oa=Ia.exports,Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page"},[a("market-view"),a("trade-view")],1)},Va=[],Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"marketview uk-clearfix",class:{"sidebar-col1-hide":t.$store.state.tradePaneClosed,"sidebar-col2-hide":t.$store.state.bookPaneClosed}},[a("div",{staticClass:"sidebar-col sidebar-col1",class:{hide:t.$store.state.tradePaneClosed}},[a("button",{staticClass:"sidebar-trigger sidebar-col1-trigger",on:{click:function(e){return t.sidebarTrigger("1")}}},[a("i",{staticClass:"icons8-forward"})]),a("div",{staticClass:"sidebar-inner"},[a("trade-pane",{staticClass:"sidebar-inner"})],1)]),a("div",{staticClass:"sidebar-col sidebar-col2",class:{hide:t.$store.state.bookPaneClosed}},[a("button",{staticClass:"sidebar-trigger sidebar-col2-trigger",on:{click:function(e){return t.sidebarTrigger("2")}}},[a("i",{staticClass:"icons8-forward"})]),a("div",{staticClass:"sidebar-inner"},[a("book-pane",{staticClass:"sidebar-inner"})],1)]),a("div",{staticClass:"stockchart-wrap"},[a("price-pane")],1)])},Fa=[],Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"price-pane"},[t.isTradingView?a("trading-view"):t._e()],1)},Ra=[],za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trading-view"},[a("div",[a("iframe",{staticStyle:{height:"calc(100vh -  55px)"},attrs:{width:"100%",src:t.bitmexPathVariable}})])])},Ha=[],ja={name:"trading-view",data(){return{bitmexPathVariable:"https://bitmex.blocknomic.com/index.html?symbol=BITFINEX%3ABTCUSD&exchange=bitfinex"}},mounted(){},methods:{},destroyed(){b.$emit("unsubscribe-candles"),b.$off("snapshotCandles")}},qa=ja,Qa=(a("a0d0"),Object(S["a"])(qa,za,Ha,!1,null,"491777b0",null)),Ga=Qa.exports,Wa={name:"price-pane",components:{TradingView:Ga},data(){return{isTradingView:!0}},created(){this.subscribeExchangeListener=()=>{this.isTradingView=!1,setTimeout(()=>this.isTradingView=!0,10)},b.$on("change-symbol",this.subscribeExchangeListener),b.$on("subscribe-exchange",this.subscribeExchangeListener)},destroyed(){b.$off("subscribe-exchange",this.subscribeExchangeListener)},methods:{}},Ja=Wa,Ya=(a("3682"),Object(S["a"])(Ja,Ua,Ra,!1,null,"befaa9e2",null)),Xa=Ya.exports,Za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trade-pane"},[a("div",{ref:"tradePane",staticClass:"trade-pane-content"},[a("div",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a("div",{attrs:{id:"subtab"}},[t.$store.state.isLoggedIn?a("tab-bar",{attrs:{mobileDropdown:!1,bus:t.tabBarEventBus,tabs:t.tabs.loggedInTabs},on:{"tab-change":t.activeTabChange}}):a("tab-bar",{attrs:{mobileDropdown:!1,bus:t.tabBarEventBus,tabs:t.tabs.notLoggedInTabs},on:{"tab-change":t.activeTabChange}})],1),a("keep-alive",["Trade"===t.activeTab?a("trade-tab"):t._e(),"Ticker"===t.activeTab?a("ticker"):t._e(),"Balance"===t.activeTab?a("balance"):t._e(),"News"===t.activeTab?a("news"):t._e()],1)],1)]),a("live-trades",{attrs:{parentHeight:t.height,height:t.height}})],1)},ts=[],es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"landing-trade-tab"}},[a("div",{staticClass:"buy-sell-tab-dropdown uk-position-top-right"},[a("div",{staticClass:"form-elm select",staticStyle:{width:"100px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMarket,expression:"selectedMarket"}],staticClass:"form-ctrl select2-single",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedMarket=e.target.multiple?a:a[0]},t.marketChange]}},t._l(t.$store.getters.markets,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v("\n                    "+t._s(e.data.name)+"\n                ")])})),0)])]),a("div",{staticClass:"cs-tab-1 uk-position-relative "},[a("tab-bar",{attrs:{mobileDropdown:!1,marketDropdown:"false",tabs:t.tabs},on:{"tab-change":t.activeTabChange}}),a("keep-alive",["Market"===t.activeTab?a("market-order"):"Limit"===t.activeTab?a("limit-order"):t._e()],1)],1)])},as=[],ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"market-order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid",staticStyle:{position:"relative"}},[a("div",{staticClass:"cs-tab-2  uk-position-relative ",staticStyle:{"padding-left":"30px","padding-right":"50px","padding-top":"12px"}},[a("div",{attrs:{id:"subtab-market","title-link-class":"tab-title-class"}},[a("tab-bar",{attrs:{mobileDropdown:!1,tabs:t.tabs},on:{"tab-change":t.activeTabChange}})],1),a("keep-alive",["Fill Or Kill"===t.activeTab?a("FOK-Order"):t._e(),"Immediate Or Cancel"===t.activeTab?a("IOC-Order"):t._e()],1)],1)])])},rs=[],is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"IOC-Order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid",staticStyle:{position:"relative"}}),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.amount,expression:"formData.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Trade Volume"},domProps:{value:t.formData.amount},on:{input:function(e){e.target.composing||t.$set(t.formData,"amount",e.target.value)}}}),a("span",[t._v(" _ ")])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-2"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",staticStyle:{color:"var(--green-color)"},attrs:{type:"text",placeholder:" - ",readonly:""},domProps:{value:t.estimatedPriceBuy}}),a("span",{staticStyle:{color:"var(--green-color)"}},[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])]),a("div",{staticClass:"uk-width-1-2"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",staticStyle:{color:"var(--red-color)"},attrs:{type:"text",placeholder:" - ",readonly:""},domProps:{value:t.estimatedPriceSell}}),a("span",{staticStyle:{color:"var(--red-color)"}},[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[t.showLoader?a("div",{staticClass:"uk-width-1-1 center"},[a("img",{attrs:{src:"https://image.ibb.co/dc02hd/30.gif"}})]):a("div",{staticClass:"uk-width-1-1 flex"},[a("div",{staticClass:"left"},[t.showConfirm?a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.makeTrade()}}},[t._v("Confirm")]):a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.confirmTrade("Buy")}}},[t._v("Buy")]),t.showConfirm?a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:t.cancelTrade}},[t._v("Cancel")]):a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:function(e){return t.confirmTrade("Sell")}}},[t._v("Sell")])])])])])},os=[],ns={name:"IOC-Order",data(){return{showConfirm:!1,formData:{pair:"BTC/USD",type:"limit",exc:"vegaProtocol",vegaMarketName:this.$store.state.selectedVegaMarketName,vegaMarketId:this.$store.state.selectedVegaMarketId,bos:"Buy",selectedmarketid:"LBXRA65PN4FN5HBWRI2YBCOYDG2PBGYU",amount:void 0,price:void 0,moe:"market"},showLoader:!1,statusCode:"operational",watcher:""}},created(){this.changeVegaMarket=t=>{this.formData.vegaMarketName=t.Name,this.formData.vegaMarketId=t.Id},b.$on("change-vega-market",this.changeVegaMarket)},computed:{estimatedPriceSell(){return this.formData.amount?Number(this.formData.amount)*Number(this.$store.state.liveTradePrice):""},estimatedPriceBuy(){return this.formData.amount?Number(this.formData.amount)*Number(this.$store.state.liveTradePrice):""}},methods:{confirmTrade(t){this.formData.bos=t;let e=[];this.validateQty(e,"Amount",this.formData.amount),e.length?this.$showErrorMsg({message:dt(e)}):this.showConfirm=!0},validateQty(t,e,a){a&&0!==Number(a)?(a&&Number.isNaN(Number(a))||Number(a)<0)&&t.push(e+" is not valid."):t.push(e+" is required.")},cancelTrade(){this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1},async makeTrade(){this.showLoader=!0;this.$store.getters.selectedVegaMarketName,this.$store.getters.selectedVegaMarketId;const t=await oe.submitOrder_market(this.formData.vegaMarketId,this.formData.amount,this.formData.bos,"MARKET","IOC");setTimeout(()=>{t||(this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,this.$showErrorMsg({message:"Timeout exceeded."}))},15e3),this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,200==t.status?this.$showSuccessMsg({message:this.formData.vegaMarketName+" - "+t.message}):this.$showErrorMsg({message:t.message}),this.showLoader=!1}},destroyed(){clearInterval(this.watcher),b.$off("change-symbol",this.changeSymbol)}},ls=ns,cs=(a("23d2"),Object(S["a"])(ls,is,os,!1,null,"3b0d9c30",null)),ds=cs.exports,us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FOK-Order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.amount,expression:"formData.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Trade Volume"},domProps:{value:t.formData.amount},on:{input:function(e){e.target.composing||t.$set(t.formData,"amount",e.target.value)}}}),a("span",[t._v(" _ ")])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-2"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",staticStyle:{color:"var(--green-color)"},attrs:{type:"text",placeholder:" - ",readonly:""},domProps:{value:t.estimatedPriceBuy}}),a("span",{staticStyle:{color:"var(--green-color)"}},[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])]),a("div",{staticClass:"uk-width-1-2"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",staticStyle:{color:"var(--red-color)"},attrs:{type:"text",placeholder:" - ",readonly:""},domProps:{value:t.estimatedPriceSell}}),a("span",{staticStyle:{color:"var(--red-color)"}},[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[t.showLoader?a("div",{staticClass:"uk-width-1-1 center"},[a("img",{attrs:{src:"https://image.ibb.co/dc02hd/30.gif"}})]):a("div",{staticClass:"uk-width-1-1 flex"},[a("div",{staticClass:"left"},[t.showConfirm?a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.makeTrade()}}},[t._v("Confirm")]):a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.confirmTrade("Buy")}}},[t._v("Buy")]),t.showConfirm?a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:t.cancelTrade}},[t._v("Cancel")]):a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:function(e){return t.confirmTrade("Sell")}}},[t._v("Sell")])])])])])},ms=[],hs={name:"FOK-Order",data(){return{showConfirm:!1,formData:{pair:"BTC/USD",type:"limit",exc:"vegaProtocol",vegaMarketName:this.$store.state.selectedVegaMarketNameTrade,vegaMarketId:this.$store.state.selectedVegaMarketTradeId,bos:"Buy",selectedmarketid:"LBXRA65PN4FN5HBWRI2YBCOYDG2PBGYU",amount:void 0,price:void 0,moe:"market"},AmountPlaceholder:this.$store.state.selectedVegaMarketbaseNameTrade,showLoader:!1,statusCode:"operational",watcher:""}},created(){this.changeVegaMarket=t=>{this.formData.vegaMarketName=t.Name,this.formData.vegaMarketId=t.Id},b.$on("change-vega-market",this.changeVegaMarket)},computed:{estimatedPriceSell(){return this.formData.amount?(Number(this.formData.amount)*Number(this.$store.state.liveTradePrice)).toFixed(5):""},estimatedPriceBuy(){return this.formData.amount?(Number(this.formData.amount)*Number(this.$store.state.liveTradePrice)).toFixed(5):""}},methods:{confirmTrade(t){this.formData.bos=t;let e=[];this.validateQty(e,"Amount",this.formData.amount),e.length?this.$showErrorMsg({message:dt(e)}):this.showConfirm=!0},validateQty(t,e,a){a&&0!==Number(a)?(a&&Number.isNaN(Number(a))||Number(a)<0)&&t.push(e+" is not valid."):t.push(e+" is required.")},cancelTrade(){this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1},async makeTrade(){this.showLoader=!0;this.$store.getters.selectedVegaMarketNameTrade,this.$store.getters.selectedVegaMarketTradeId;const t=await oe.submitOrder_market(this.formData.vegaMarketId,this.formData.amount,this.formData.bos,"MARKET","FOK");setTimeout(()=>{t||(this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,this.$showErrorMsg({message:"Timeout exceeded."}))},15e3),this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,200==t.status?this.$showSuccessMsg({message:this.formData.vegaMarketName+" - "+t.message}):this.$showErrorMsg({message:t.message}),this.showLoader=!1}},destroyed(){clearInterval(this.watcher),b.$off("change-vega-market",this.changeVegaMarket)}},gs=hs,ps=(a("5c74"),Object(S["a"])(gs,us,ms,!1,null,"9f0e3d38",null)),vs=ps.exports,fs={name:"market-order",components:{TabBar:rt,IOCOrder:ds,FOKOrder:vs},data(){return{activeTab:"Immediate Or Cancel",tabs:["Immediate Or Cancel","Fill Or Kill"],height:0,statusCode:"",preActive:"Immediate Or Cancel"}},methods:{activeTabChange(t){this.activeTab=t,"Immediate Or Cancel"===t?this.$store.commit("changeMarketIOCTab"):this.$store.commit("changeMarketFOKTab"),this.preActive!==t&&(this.$root.$emit("MarketTabChange",t),this.preActive=t)},getStatus(t){this.statusCode="auto"===t?this.$store.getters.getAutoStatus:this.$store.getters[`get${t}OrderStatus`]}}},bs=fs,ks=(a("da2b"),Object(S["a"])(bs,ss,rs,!1,null,"442cef2b",null)),ys=ks.exports,Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"limit-order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid",staticStyle:{position:"relative"}},[a("div",{staticClass:"cs-tab-3  uk-position-relative ",staticStyle:{"padding-left":"30px","padding-right":"50px","padding-top":"12px"}},[a("div",{attrs:{id:"subtab-limit","title-link-class":"tab-title-class"}},[a("tab-bar",{attrs:{mobileDropdown:!1,tabs:t.tabs},on:{"tab-change":t.activeTabChange}})],1),a("keep-alive",["FOK"===t.activeTab?a("FOK-Limit-Order"):t._e(),"IOC"===t.activeTab?a("IOC-Limit-Order"):t._e(),"GTC"===t.activeTab?a("GTC-Limit-Order"):t._e()],1)],1)])])},_s=[],ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"IOC-Limit-Order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid",staticStyle:{position:"relative"}}),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.amount,expression:"formData.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Amount"},domProps:{value:t.formData.amount},on:{input:function(e){e.target.composing||t.$set(t.formData,"amount",e.target.value)}}}),a("span",[t._v(" _ ")])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.price,expression:"formData.price"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Price"},domProps:{value:t.formData.price},on:{input:function(e){e.target.composing||t.$set(t.formData,"price",e.target.value)}}}),a("span",[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Estimated Total Price",readonly:""},domProps:{value:t.formData.amount*t.formData.price||""}}),a("span",[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[t.showLoader?a("div",{staticClass:"uk-width-1-1 center"},[a("img",{attrs:{src:"https://image.ibb.co/dc02hd/30.gif"}})]):a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"left"},[t.showConfirm?a("button",{staticClass:"uk-button uk-button-green",on:{click:t.makeTrade}},[t._v("Confirm")]):a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.confirmTrade("Buy")}}},[t._v("Buy")]),t.showConfirm?a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:t.cancelTrade}},[t._v("Cancel")]):a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:function(e){return t.confirmTrade("Sell")}}},[t._v("Sell")])])])])])},Ts=[],$s={name:"IOC-Limit-Order",data(){return{showConfirm:!1,formData:{pair:"BTC/USD",type:"limit",exc:"vegaProtocol",vegaMarketName:this.$store.state.selectedVegaMarketName,vegaMarketId:this.$store.state.selectedVegaMarketId,bos:"Buy",selectedmarketid:"LBXRA65PN4FN5HBWRI2YBCOYDG2PBGYU",amount:void 0,price:void 0,moe:"market"},showLoader:!1,statusCode:"operational",watcher:""}},created(){this.changeVegaMarket=t=>{this.formData.vegaMarketName=t.Name,this.formData.vegaMarketId=t.Id},b.$on("change-vega-market",this.changeVegaMarket)},methods:{confirmTrade(t){this.formData.bos=t;let e=[];this.validateQty(e,"Amount",this.formData.amount),this.validateQty(e,"Price",this.formData.price),e.length?this.$showErrorMsg({message:dt(e)}):this.showConfirm=!0},validateQty(t,e,a){a&&0!==Number(a)?(a&&Number.isNaN(Number(a))||Number(a)<0)&&t.push(e+" is not valid."):t.push(e+" is required.")},cancelTrade(){this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1},async makeTrade(){this.showLoader=!0;this.$store.getters.selectedVegaMarketName,this.$store.getters.selectedVegaMarketId;const t=await oe.submitOrder_limit(this.formData.vegaMarketId,this.formData.amount,this.formData.bos,"LIMIT","IOC",parseInt(1e5*this.formData.price),this.$store.state.selectedVegaMarketquoteName);setTimeout(()=>{t||(this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,this.showLoader=!1,this.$showErrorMsg({message:"Timeout exceeded."}))},15e3),this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,200==t.status?this.$showSuccessMsg({message:this.formData.vegaMarketName+" - "+t.message}):this.$showErrorMsg({message:t.message}),this.showLoader=!1}},destroyed(){clearInterval(this.watcher),b.$off("change-vega-market",this.changeVegaMarket)}},Ls=$s,As=(a("d2d5"),Object(S["a"])(Ls,ws,Ts,!1,null,"9b680c62",null)),Ss=As.exports,Ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FOK-Limit-Order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid",staticStyle:{position:"relative"}}),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.amount,expression:"formData.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Amount"},domProps:{value:t.formData.amount},on:{input:function(e){e.target.composing||t.$set(t.formData,"amount",e.target.value)}}}),a("span",[t._v(" _ ")])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.price,expression:"formData.price"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Price"},domProps:{value:t.formData.price},on:{input:function(e){e.target.composing||t.$set(t.formData,"price",e.target.value)}}}),a("span",[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Estimated Total Price",readonly:""},domProps:{value:t.formData.amount*t.formData.price||""}}),a("span",[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[t.showLoader?a("div",{staticClass:"uk-width-1-1 center"},[a("img",{attrs:{src:"https://image.ibb.co/dc02hd/30.gif"}})]):a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"left"},[t.showConfirm?a("button",{staticClass:"uk-button uk-button-green",on:{click:t.makeTrade}},[t._v("Confirm")]):a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.confirmTrade("Buy")}}},[t._v("Buy")]),t.showConfirm?a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:t.cancelTrade}},[t._v("Cancel")]):a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:function(e){return t.confirmTrade("Sell")}}},[t._v("Sell")])])])])])},Ds=[],Ps={name:"FOK-Limit-Order",data(){return{showConfirm:!1,formData:{pair:"BTC/USD",type:"limit",exc:"vegaProtocol",vegaMarketName:this.$store.state.selectedVegaMarketName,vegaMarketId:this.$store.state.selectedVegaMarketId,bos:"Buy",selectedmarketid:"LBXRA65PN4FN5HBWRI2YBCOYDG2PBGYU",amount:void 0,price:void 0,moe:"market"},showLoader:!1,statusCode:"operational",watcher:""}},created(){this.changeVegaMarket=t=>{this.formData.vegaMarketName=t.Name,this.formData.vegaMarketId=t.Id},b.$on("change-vega-market",this.changeVegaMarket)},methods:{confirmTrade(t){this.formData.bos=t;let e=[];this.validateQty(e,"Amount",this.formData.amount),this.validateQty(e,"Price",this.formData.price),e.length?this.$showErrorMsg({message:dt(e)}):this.showConfirm=!0},validateQty(t,e,a){a&&0!==Number(a)?(a&&Number.isNaN(Number(a))||Number(a)<0)&&t.push(e+" is not valid."):t.push(e+" is required.")},cancelTrade(){this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1},async makeTrade(){this.showLoader=!0;this.$store.getters.selectedVegaMarketName,this.$store.getters.selectedVegaMarketId;const t=await oe.submitOrder_limit(this.formData.vegaMarketId,this.formData.amount,this.formData.bos,"LIMIT","FOK",parseInt(1e5*this.formData.price),this.$store.state.selectedVegaMarketquoteName);setTimeout(()=>{t||(this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,this.showLoader=!1,this.$showErrorMsg({message:"Timeout exceeded."}))},15e3),this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,200==t.status?this.$showSuccessMsg({message:this.formData.vegaMarketName+" - "+t.message}):this.$showErrorMsg({message:t.message}),this.showLoader=!1}},destroyed(){clearInterval(this.watcher),b.$off("change-vega-market",this.changeVegaMarket)}},Ms=Ps,xs=(a("6efe"),Object(S["a"])(Ms,Ns,Ds,!1,null,"b1acf3ca",null)),Bs=xs.exports,Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GTC-Limit-Order"},[a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid",staticStyle:{position:"relative"}}),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.amount,expression:"formData.amount"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Amount"},domProps:{value:t.formData.amount},on:{input:function(e){e.target.composing||t.$set(t.formData,"amount",e.target.value)}}}),a("span",[t._v(" _ ")])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.price,expression:"formData.price"}],staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Price"},domProps:{value:t.formData.price},on:{input:function(e){e.target.composing||t.$set(t.formData,"price",e.target.value)}}}),a("span",[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"form-grp"},[a("div",{staticClass:"form-elm"},[a("input",{staticClass:"form-ctrl",attrs:{type:"text",placeholder:"Estimated Total Price",readonly:""},domProps:{value:t.formData.amount*t.formData.price||""}}),a("span",[t._v(t._s(t.$store.state.selectedVegaMarketquoteNameTrade))])])])])]),a("div",{staticClass:"uk-grid uk-grid-small f1-form-grid"},[t.showLoader?a("div",{staticClass:"uk-width-1-1 center"},[a("img",{attrs:{src:"https://image.ibb.co/dc02hd/30.gif"}})]):a("div",{staticClass:"uk-width-1-1"},[a("div",{staticClass:"left"},[t.showConfirm?a("button",{staticClass:"uk-button uk-button-green",on:{click:t.makeTrade}},[t._v("Confirm")]):a("button",{staticClass:"uk-button uk-button-green",on:{click:function(e){return t.confirmTrade("Buy")}}},[t._v("Buy")]),t.showConfirm?a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:t.cancelTrade}},[t._v("Cancel")]):a("button",{staticClass:"uk-button uk-button-red ml10",on:{click:function(e){return t.confirmTrade("Sell")}}},[t._v("Sell")])])])])])},Os=[],Es={name:"GTC-Limit-Order",data(){return{showConfirm:!1,formData:{pair:"BTC/USD",type:"limit",exc:"vegaProtocol",vegaMarketName:this.$store.state.selectedVegaMarketName,vegaMarketId:this.$store.state.selectedVegaMarketId,bos:"Buy",selectedmarketid:"LBXRA65PN4FN5HBWRI2YBCOYDG2PBGYU",amount:void 0,price:void 0,moe:"market"},showLoader:!1,statusCode:"operational",watcher:""}},created(){this.changeVegaMarket=t=>{this.formData.vegaMarketName=t.Name,this.formData.vegaMarketId=t.Id},b.$on("change-vega-market",this.changeVegaMarket)},methods:{confirmTrade(t){this.formData.bos=t;let e=[];this.validateQty(e,"Amount",this.formData.amount),this.validateQty(e,"Price",this.formData.price),e.length?this.$showErrorMsg({message:dt(e)}):this.showConfirm=!0},validateQty(t,e,a){a&&0!==Number(a)?(a&&Number.isNaN(Number(a))||Number(a)<0)&&t.push(e+" is not valid."):t.push(e+" is required.")},cancelTrade(){this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1},async makeTrade(){this.showLoader=!0;this.$store.getters.selectedVegaMarketName,this.$store.getters.selectedVegaMarketId;const t=await oe.submitOrder_limit(this.formData.vegaMarketId,this.formData.amount,this.formData.bos,"LIMIT","GTC",parseInt(1e5*this.formData.price),this.$store.state.selectedVegaMarketquoteName);setTimeout(()=>{t||(this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,this.showLoader=!1,this.$showErrorMsg({message:"Timeout exceeded."}))},15e3),this.formData.amount=void 0,this.formData.price=void 0,this.showConfirm=!1,200==t.status?this.$showSuccessMsg({message:this.formData.vegaMarketName+" - "+t.message}):this.$showErrorMsg({message:t.message}),this.showLoader=!1}},destroyed(){clearInterval(this.watcher),b.$off("change-vega-market",this.changeVegaMarket)}},Vs=Es,Ks=(a("79b9"),Object(S["a"])(Vs,Is,Os,!1,null,"ab144fca",null)),Fs=Ks.exports,Us={name:"limit-order",components:{TabBar:rt,IOCLimitOrder:Ss,FOKLimitOrder:Bs,GTCLimitOrder:Fs},data(){return{activeTab:"GTC",tabs:["GTC","FOK","IOC"],height:0,statusCode:"",preActive:"GTC"}},methods:{getStatus(t){this.statusCode="auto"===t?this.$store.getters.getAutoStatus:this.$store.getters[`get${t}OrderStatus`]},activeTabChange(t){this.activeTab=t,"GTC"===t&&(this.activeTab="GTC",this.$store.commit("changeToLimitGTCTab")),"FOK"===t&&(this.activeTab="FOK",this.$store.commit("changeToLimitFOKTab")),"IOC"===t&&(this.activeTab="IOC",this.$store.commit("changeToLimitIOCTab"))}}},Rs=Us,zs=(a("61cc"),Object(S["a"])(Rs,Cs,_s,!1,null,"2090a38a",null)),Hs=zs.exports,js={name:"trade-tab",components:{TabBar:rt,MarketOrder:ys,LimitOrder:Hs},data(){return{activeTab:"Market",selectedMarket:{},tabs:["Market","Limit"],preActive:"Market"}},methods:{activeTabChange(t){this.activeTab=t,"Market"==t?this.$store.commit("changeMarketTab"):this.$store.commit("changeLimitTab"),this.preActive!==t&&(this.$root.$emit("tabChange",t),this.preActive=t)},marketChange(){this.$store.commit("addLoaderTask",3,!1),this.$store.commit("changeSelectedVegaMarketNameTrade",this.selectedMarket.data.name),this.$store.commit("changeSelectedVegaMarketTradeId",this.selectedMarket.id),this.$store.commit("changeSelectedVegaMarketbaseNameTrade",this.selectedMarket.baseName),this.$store.commit("changeSelectedVegaMarketquoteNameTrade",this.selectedMarket.quoteName),this.$store.commit("changeSelectedVegaMarketSummaryTrade",this.selectedMarket.data.instrument_name),b.$emit("change-vega-market",{Name:this.selectedMarket.data.name,Id:this.selectedMarket.id}),this.$store.commit("changeSelectedVegaMarketSummary",this.selectedMarket.data.instrument_name),this.$store.commit("changeSelectedVegaMarketquoteName",this.selectedMarket.quoteName),b.$emit("change-vega-header",{Name:this.selectedMarket.data.name,Summary:this.selectedMarket.data.instrument_name})}}},qs=js,Qs=(a("5faf"),Object(S["a"])(qs,es,as,!1,null,"4626dc3b",null)),Gs=Qs.exports,Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tikertab-content noHorizontal",attrs:{id:"tab-a2"}},[t._m(0),t.showLoader?t._e():a("div",{staticClass:"noDefaultOverflow sv-table-wrapper ticker-table cs-table-1"},[a("table",{staticClass:"border-collapse-none",staticStyle:{width:"100%"},attrs:{"data-scroll-y":"291px"}},[t._m(1),a("div",{staticClass:"pdb3",attrs:{id:"simpleBarContainer","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("tbody",[t._l(t.tickers,(function(e){return a("tr",{staticClass:"ticker-nested-row"},[a("td",{staticClass:"uk-text-left",on:{click:function(a){return t.tickerClick(e)}}},[t._v(t._s(e.markName))]),a("td",{staticClass:"uk-text-center",class:{"c-green":e.ask>e.bid,"c-red":e.ask<e.bid},on:{click:function(a){return t.tickerClick(e)}}},[t._v(" "+t._s(e.bid)+"\n                            ")]),a("td",{staticClass:"uk-text-right",class:{"c-red":e.ask>e.bid,"c-green":e.ask<e.bid},on:{click:function(a){return t.tickerClick(e)}}},[t._v(t._s(e.ask)+"\n              ")])])}))],2)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoader,expression:"showLoader"}],staticClass:"sv-table-wrapper ticker-table cs-table-1"},[a("table",{staticClass:" ",staticStyle:{width:"100%"},attrs:{"data-scroll-y":"291px"}},[t._m(2),a("div",{attrs:{id:"simpleBarContainer","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("tbody",[a("spinner")],1)])])])])},Js=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-panel"},[a("div",{staticClass:"uk-panel-title"},[a("div",{staticClass:"right",staticStyle:{display:"flex","flex-flow":"row nowrap","justify-content":"center","align-items":"center"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{attrs:{st:""}},[a("tr",[a("th",{staticClass:"uk-text-left"},[t._v("Pair")]),a("th",{staticClass:"uk-text-center"},[t._v("Bid")]),a("th",{staticClass:"uk-text-right"},[t._v("Ask")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Pair")]),a("th",[t._v("Bid")]),a("th",[t._v("Ask")])])])}];const Ys=ya.a`
subscription {
  marketData  {
    market {
      id
      name
      tradableInstrument {
        instrument {
          name 
          baseName
          quoteName
        }    
      }
    }
    bestBidPrice
    bestOfferPrice
    midPrice
  }
}`;var Xs={name:"ticker",components:{Spinner:Le},data(){return{tickerObj:{},tickers:[],snapTaken:!1,showLoader:!1,i:0}},apollo:{$subscribe:{tickers:{query:Ys,result(t){let e=t.data.marketData;this.i++,setTimeout(()=>{this.addnewTicker(e)},1e3*this.i+1e3)}}}},created(){"{}"==JSON.stringify(this.$store.state.tickerData)&&(this.showLoader=!0),setTimeout(()=>{this.showLoader=!1},3e3)},methods:{tickerClick(t){let e={Name:t.markName,Id:t.markId},a={Name:t.markName,Id:t.markId,baseName:t.baseName,quoteName:t.quoteName,summary:t.summary};this.$store.commit("changeSelectedVegaMarket",e),this.$store.commit("changeSelectedVegaMarketSummary",t.summary),this.$store.commit("changeSelectedVegaMarketbaseName",t.baseName),this.$store.commit("changeSelectedVegaMarketquoteName",t.quoteName),this.$store.commit("changeSelectedVegaMarketTrade",a),this.$store.commit("changeSelectedVegaMarketNameTrade",t.markName),this.$store.commit("changeSelectedVegaMarketTradeId",t.markId),this.$store.commit("changeSelectedVegaMarketbaseNameTrade",t.baseName),this.$store.commit("changeSelectedVegaMarketquoteNameTrade",t.quoteName),this.$store.commit("changeSelectedVegaMarketSummaryTrade",t.summary),b.$emit("change-vega-market",e),b.$emit("change-vega-header",{Name:t.markName,Summary:t.summary}),this.$root.$emit("tickerClicked")},addnewTicker(t){let e=[];e.markId=t.market.id,e.markName=t.market.name,e.bid=(Number(t.bestBidPrice)/1e5).toFixed(5),e.ask=(Number(t.bestOfferPrice)/1e5).toFixed(5),e.mid=(Number(t.midPrice)/1e3).toFixed(5),e.summary=t.market.tradableInstrument.instrument.name,e.baseName=t.market.tradableInstrument.instrument.baseName,e.quoteName=t.market.tradableInstrument.instrument.quoteName,this.tickers.unshift(e),this.tickers.length>15&&this.tickers.pop()}}},Zs=Xs,tr=(a("97e7"),Object(S["a"])(Zs,Ws,Js,!1,null,"0cb94a62",null)),er=tr.exports,ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tikertab-content",attrs:{id:"tab-a3 noHorizontal"}},[a("div",{staticClass:"sv-table-wrapper ticker-table cs-table-1"},[a("div",{staticClass:"form-elm select",staticStyle:{width:"100px"}},[a("label",{attrs:{for:"province",accesskey:"s"}},[t._v("SELECT PUBKEY")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPubKey,expression:"selectedPubKey"}],staticClass:"form-ctrl select2-single",attrs:{name:"province",id:"province"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedPubKey=e.target.multiple?a:a[0]},t.PubKeyChange]}},t._l(t.pubkeys,(function(e){return a("option",{key:e,staticStyle:{padding:"20%"},domProps:{value:e}},[t._v("\n                    "+t._s(e)+"\n                ")])})),0)]),t._m(0),a("br"),t.showMarginInfo?a("div",[t._m(1),a("fieldset",[a("legend",[t._v("General Margin info")]),a("table",[a("tr",[a("td",[t._v("UnRealized PNL (VUSD): ")]),a("td",{class:{"c-green":this.$store.getters.totalUnrealizedPNL_VUSD>=0,"c-red":0>this.$store.getters.totalUnrealizedPNL_VUSD}},[t._v(t._s(this.$store.getters.totalUnrealizedPNL_VUSD.toFixed(5))+" ")])]),a("tr",[a("td",[t._v("Realized PNL (VUSD): ")]),a("td",{class:{"c-green":this.$store.getters.totalRealizedPNL_VUSD>=0,"c-red":0>this.$store.getters.totalRealizedPNL_VUSD}},[t._v(t._s(this.$store.getters.totalRealizedPNL_VUSD.toFixed(5))+" ")])]),a("tr",[a("td",[t._v("UnRealized PNL (BTC): ")]),a("td",{class:{"c-green":this.$store.getters.totalUnrealizedPNL_BTC>=0,"c-red":0>this.$store.getters.totalUnrealizedPNL_BTC}},[t._v(t._s(this.$store.getters.totalUnrealizedPNL_BTC.toFixed(5))+" ")])]),a("tr",[a("td",[t._v("Realized PNL (BTC): ")]),a("td",{class:{"c-green":this.$store.getters.totalRealizedPNL_BTC>=0,"c-red":0>this.$store.getters.totalRealizedPNL_BTC}},[t._v(t._s(this.$store.getters.totalRealizedPNL_BTC.toFixed(5))+" ")])]),t._m(2),t._m(3)])])]):t._e()])])},sr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"sv-table display nowrap",staticStyle:{width:"100%"},attrs:{"data-scroll-y":"291px"}},[a("thead",[a("tr",[a("th",{staticClass:"uk-text-center"},[t._v("Currency")]),a("th",{staticClass:"uk-text-center"},[t._v("Available")]),a("th",{staticClass:"uk-text-center"},[t._v("Blocked")]),a("th",{staticClass:"uk-text-center"},[t._v("Total")])])]),a("div",{attrs:{id:"simpleBarContainer","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("tbody",[a("tr",[a("td",{staticClass:"uk-text-center"},[t._v("BTC")]),a("td",{staticClass:"uk-text-center"},[t._v("0.24")]),a("td",{staticClass:"uk-text-center"},[t._v("0.33")]),a("td",{staticClass:"uk-text-center"},[t._v("0.57")])]),a("tr",[a("td",{staticClass:"uk-text-center"},[t._v("VUSD")]),a("td",{staticClass:"uk-text-center"},[t._v("4.32")]),a("td",{staticClass:"uk-text-center"},[t._v("1.72")]),a("td",{staticClass:"uk-text-center"},[t._v("6.04")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("tr",[a("td",[t._v("Margin Gross Balance: ")])]),a("tr",[a("td",[t._v("Margin Tradeable Balance:")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("Margin Balance:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("Margin Required:")])])}],rr={name:"balance",data(){return{balance:{},marginInfo:{},showMarginInfo:!0,marginBaseInfo:{},selectedPubKey:"",pubkeys:T.pubKeys}},async created(){},mounted(){this.userLoginListener=()=>this.setpubkeys(),this.userLogoutListener=()=>this.setpubkeysEmpty(),v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener)},methods:{setpubkeys(){this.pubkeys=T.pubKeys},setpubkeysEmpty(){this.pubkeys=[]},PubKeyChange(){T.currentActiveKey=this.selectedPubKey,v.$emit(f.pubKeyChanged)}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener)}},ir=rr,or=(a("14b1"),Object(S["a"])(ir,ar,sr,!1,null,"b769beda",null)),nr=or.exports,lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"livetrades noHorizontal",staticStyle:{padding:"0 0 15px"}},[t._m(0),t.showLoader?t._e():a("div",{style:{height:t.tableHeight},attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(1),a("tbody",t._l(t.trades,(function(e){return a("tr",[a("td",{class:{"c-green":"Buy"===e.aggressor,"c-red":"Sell"===e.aggressor}},[t._v(t._s((Number(e.price)/1e5).toFixed(5)))]),a("td",{staticClass:"uk-text-center"},[t._v(t._s(e.size))]),a("td",{staticClass:"uk-text-right"},[t._v(t._s(e.createdAt.slice(11,19))+"-"+t._s(e.createdAt.slice(20,22)))])])})),0)])]),t.showLoader?a("div",{style:{height:t.tableHeight},attrs:{id:"hello","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(2),a("tbody",[a("spinner")],1)])]):t._e()])},cr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-panel"},[a("h3",{staticClass:"uk-panel-title uk-text-center",staticStyle:{"font-size":"14px !important"}},[t._v("Live Trades")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-visible"},[a("tr",[a("td",{staticClass:"uk-text-left"},[t._v("Price ")]),a("td",{staticClass:"uk-text-center"},[t._v("Volume")]),a("td",{staticClass:"uk-text-right"},[t._v("Timestamp")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-hidden"},[a("tr",[a("td",{staticClass:"uk-test-left"},[t._v("Price ")]),a("td",{staticClass:"uk-text-center"},[t._v("Volume")]),a("td",{staticClass:"uk-text-right"},[t._v("Timestamp")])])])}],dr={name:"live-trades",components:{Spinner:Le},props:{parentHeight:Number},data(){return{trades:{},tableHeight:"",showLoader:!1,snapTaken:!1,marketId:"RTJVFCMFZZQQLLYVSXTWEN62P6AH6OCN"}},apollo:{$subscribe:{trades:{query:ya.a`subscription name($marketId: String!) {
                  trades (marketId: $marketId) {
                      market {
                        id
                      }
                      price
                      size
                      aggressor
                      createdAt
                  }
                }`,variables(){return{marketId:this.marketId}},result({data:t,loading:e}){let a=t.trades;if(this.snapTaken)for(let s=a.length-1;s>=0;s--)this.liveTradeListener(a[s]);else this.snapshotListener(a),this.snapTaken=!0}}}},watch:{parentHeight:function(t){let e=t;this.tableHeight="calc(100vh - "+(e+100)+"px"}},created(){this.snapshotListener=t=>{this.trades=t,setTimeout(()=>{this.showLoader=!1},1e3);const e=t[0];let a;a="Sell"==e.aggressor?-Number(e.price):Number(e.price),this.$store.commit("liveTradePrice",Math.abs((a/1e5).toFixed(5))),this.$store.commit("removeLoaderTask",1)},this.reset=t=>{this.showLoader=!0,this.snapTaken=!1,this.trades={},this.marketId=t.Id},this.liveTradeListener=t=>{let e;this.trades.unshift(t),this.trades.length>100&&this.trades.pop(),e="Sell"==t.aggressor?-Number(t.price):Number(t.price),this.$store.commit("liveTradePrice",Math.abs((e/1e5).toFixed(5)))},b.$on("change-vega-market",this.reset)},destroyed(){this.snapTaken=!1,b.$on("change-vega-market",this.reset)}},ur=dr,mr=(a("4cae"),Object(S["a"])(ur,lr,cr,!1,null,"1905fcf0",null)),hr=mr.exports,gr={name:"trade-pane",components:{TabBar:rt,TradeTab:Gs,Ticker:er,Balance:nr,LiveTrades:hr},data(){return{activeTab:"Ticker",tabs:{notLoggedInTabs:["Ticker"],loggedInTabs:["Ticker","Balance","Trade"]},height:0,tabBarEventBus:new s["default"]}},updated(){this.height=this.$refs.tradePane.clientHeight},mounted(){v.$on(f.userLogin,()=>this.tabBarEventBus.$emit("change-active-tab","Balance")),this.height=this.$refs.tradePane.clientHeight,v.$on(f.userLogout,this.userLogoutListener)},methods:{activeTabChange(t){this.activeTab=t;let e=document.getElementsByClassName("trade-pane-content")[0];e.style.height="Ticker"===t?"calc(50% - 15px)":"auto"},userLogoutListener(){this.activeTab="Ticker",this.tabBarEventBus.$emit("change-active-tab","Ticker")}}},pr=gr,vr=(a("aad7"),Object(S["a"])(pr,Za,ts,!1,null,"266f038e",null)),fr=vr.exports,br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"sidePane",staticClass:"price-pane"},[a("order-book",{staticClass:"uk-visible@m",attrs:{parentHeight:t.height}}),a("order-book",{staticClass:"uk-hidden@m",attrs:{parentHeight:400}})],1)},kr=[],yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderbook noHorizontal",style:{height:t.orderHeight}},[t._m(0),t.showLoader?[a("spinner",{attrs:{mTop:"calc(100% - 30px)"}})]:[a("div",{staticClass:"noShow noHorizontal"},[a("div",{staticClass:"uk-visible@m",style:{"max-height":t.tableHeight},attrs:{id:"ob-hello1"}},[a("table",[t._m(1),a("tbody",[a("td",{staticClass:"uk-text-left",style:{position:"relative",color:"#ffffff"}},[t._v(" Bid Value ")]),a("td",{staticClass:"uk-text-center",style:{position:"relative",color:"#ffffff"}},[t._v("Volume ")]),a("td",{staticClass:"cumulativeSumField",style:{position:"relative",color:"#ffffff"}},[t._v(" Total Vol. ")]),t._l(t.bids,(function(e,s){return 0!=Number(e.volume)?a("tr",[a("td",{staticClass:"c-green",staticStyle:{position:"relative"}},[t._v(" "+t._s(e.value)+"  "),a("div",{style:{background:"green",position:"absolute",border:"2px solid #39e600",top:0,bottom:0,left:0,right:0,overflow:"visible",width:Number(e.totalVolume)/Number(t.maxVol)*308+"%",opacity:.25}})]),a("td",{staticClass:"uk-text-center"},[t._v(t._s(Number(e.volume.toFixed(5))))]),a("td",{staticClass:"cumulativeSumField"},[t._v(t._s(Number(e.totalVolume.toFixed(5))))])]):t._e()}))],2)])]),a("div",{staticClass:"uk-hidden@m",style:{"max-height":t.tableHeight},attrs:{id:"ob-hello1","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(2),a("tbody",[a("td",{staticClass:"uk-text-left",style:{position:"relative",color:"#ffffff"}},[t._v(" Bid Value ")]),a("td",{staticClass:"uk-text-center",style:{position:"relative",color:"#ffffff"}},[t._v("Volume ")]),a("td",{staticClass:"cumulativeSumField",style:{position:"relative",color:"#ffffff"}},[t._v(" Total Vol. ")]),t._l(t.bids,(function(e,s){return 0!=Number(e.volume)?a("tr",[a("td",{staticClass:"c-green",staticStyle:{position:"relative"}},[t._v(t._s(e.value)+"\n                "),a("div",{style:{background:"green",position:"absolute",border:"2px solid #39e600",top:0,bottom:0,left:0,right:0,overflow:"visible",width:Number(e.totalVolume)/Number(t.maxVol)*308+"%",opacity:.25}})]),a("td",{staticClass:"uk-text-center"},[t._v(t._s(Number(e.volume.toFixed(5))))]),a("td",{staticClass:"cumulativeSumField"},[t._v(t._s(Number(e.totalVolume.toFixed(5))))])]):t._e()}))],2)])]),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.$store.state.liveTradePrice,expression:"$store.state.liveTradePrice !== 0"}],staticClass:"ob-center-text",class:{"ob-center-text-red":t.$store.state.liveTradePrice<t.sellPrice,"ob-center-text-green":t.$store.state.liveTradePrice>t.buyPrice}},[a("span",{staticClass:"ob-center-text-green",staticStyle:{"font-size":"12px","font-weight":"100"}},[t._v(t._s(t.buyPrice))]),a("br"),a("span",{staticStyle:{"font-size":"14px","font-weight":"800"}},[t._v(t._s(Math.abs(t.$store.state.liveTradePrice))+" "+t._s(t.$store.state.selectedVegaMarketquoteName))]),a("br"),a("span",{staticClass:"ob-center-text-red",staticStyle:{"font-size":"12px","font-weight":"100"}},[t._v(t._s(t.sellPrice))])])]),a("br"),a("br"),a("div",{style:{"max-height":t.tableHeight},attrs:{id:"ob-hello2","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",{},[t._m(3),a("tbody",[a("td",{staticClass:"uk-text-left",style:{position:"relative",color:"#ffffff"}},[t._v(" Ask Value ")]),a("td",{staticClass:"uk-text-center",style:{position:"relative",color:"#ffffff"}},[t._v("Volume ")]),a("td",{staticClass:"cumulativeSumField",style:{position:"relative",color:"#ffffff"}},[t._v(" Total Vol. ")]),t._l(t.asks,(function(e,s){return 0!=Number(e.volume)?a("tr",[a("td",{staticClass:"c-red",staticStyle:{position:"relative"}},[t._v(t._s(e.value)+"\n                    "),a("div",{style:{background:"red",position:"absolute",top:0,border:"2px solid #d279a6",bottom:0,left:0,right:0,overflow:"visible",width:Number(e.totalVolume)/Number(t.maxVol)*308+"%",opacity:.25}})]),a("td",{staticClass:"uk-text-center"},[t._v(t._s(Number(e.volume.toFixed(5))))]),a("td",{staticClass:"cumulativeSumField"},[t._v(t._s(Number(e.totalVolume.toFixed(5))))])]):t._e()}))],2)])])])]],2)},Cr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("span",{staticClass:"uk-panel-title uk-text-center",staticStyle:{"font-size":"14px !important","padding-left":"30%"}},[t._v("Order Book")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-hidden"},[a("tr",[a("th",[t._v(" ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-hidden"},[a("tr",[a("th",[t._v(" ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-hidden"},[a("tr",[a("th",[t._v(" ")]),a("th",[t._v(" ")]),a("th",[t._v(" ")])])])}],_r=a("1b1c"),wr=a.n(_r),Tr={name:"order-book",components:{Spinner:Le},props:{parentHeight:Number},data(){return{marketId:"RTJVFCMFZZQQLLYVSXTWEN62P6AH6OCN",bids:[],asks:[],price:this.$store.state.liveTradePrice,tableHeight:"",orderHeight:"",timeout:"",orderbookdata:{},showLoader:!0,snapF:0,sum:0,count:1,barAsk:0,barBid:0,order_updates:"",buyPrice:0,sellPrice:0}},apollo:{$subscribe:{orders:{query:ya.a`subscription name($marketId: String!) {
                  orders (marketId: $marketId) {
                      price
                      side
                      size
                      market {
                        name
                      }
                  }
                } `,variables(){return{marketId:this.marketId}},result(t){let e=t.data.orders,a=[],s=[];if(Array.isArray(e)&&1!=this.snapF)this.snapF=1,e.forEach(t=>{if("Buy"==t.side){let e={};e.value=(Number(t.price)/1e5).toFixed(5),e.volume=Number(Math.abs(t.size)),s.push(e)}else{let e={};e.value=(Number(t.price)/1e5).toFixed(5),e.volume=Number(Math.abs(t.size)),a.push(e)}}),a.sort((function(t,e){return t.value-e.value})),s.sort((function(t,e){return t.value-e.value})),this.orderbookdata.asks=a,this.orderbookdata.bids=s,this.buyPrice=Number(s[0].value),this.sellPrice=Number(a[0].value),this.snapshotListener(this.orderbookdata);else{if(this.orderbookdata.asks&&this.orderbookdata.bids)for(let t=0;t<e.length;t++)if("Buy"==e[t].side){let a={};a.value=(Number(e[t].price)/1e5).toFixed(5),a.volume=Number(e[t].size),this.buyPrice=Number(a.value),this.orderbookdata.bids.push(a),this.orderbookdata.bids.sort((function(t,e){return t.value-e.value})),this.orderbookdata.bids.length>50&&this.orderbookdata.bids.pop()}else{let a={};a.value=(Number(e[t].price)/1e5).toFixed(5),a.volume=Number(e[t].size),this.sellPrice=Number(a.value),this.orderbookdata.asks.push(a),this.orderbookdata.asks.sort((function(t,e){return t.value-e.value})),this.orderbookdata.asks.length>50&&this.orderbookdata.asks.shift()}this.orderbookdata.asks.length>9&&this.orderbookdata.bids.length>9&&this.bookUpdateListener(this.orderbookdata)}}}}},computed:{maxVol(){return Math.max(this.asks[this.asks.length-1].totalVolume,this.bids[0].totalVolume)}},methods:{scrollTopBookToBottom(){try{let t=document.getElementById("ob-hello1"),e=new wr.a(t,{autoHide:!1});e.getScrollElement().scrollTop=9999999}catch(t){throw t}},asksUpdater(t){if(t&&t.asks&&t.asks.length){let e=[t.asks.length];for(let a=0;a<t.asks.length;a++)t.asks[a].totalVolume=0===a?t.asks[a].volume:t.asks[a].volume+t.asks[a-1].totalVolume,e[t.asks.length-(a+1)]=t.asks[a];return e.reverse()}return this.barAsk=0,[]},bidsUpdater(t){if(t&&t.bids&&t.bids.length){let e=[];for(let a=t.bids.length-1;a>=0;a--)a===t.bids.length-1?t.bids[a].totalVolume=t.bids[a].volume:t.bids[a].totalVolume=t.bids[a].volume+t.bids[a+1].totalVolume,e.push(t.bids[a]);return e.reverse()}return this.barBid=0,[]}},watch:{parentHeight:function(t){let e=t/2,a=t/2,s=e-40;this.tableHeight=s+"px",this.orderHeight=a+"px"}},created(){this.count=1,this.snapshotListener=t=>{this.showLoader=!1;let e=JSON.parse(JSON.stringify(t));this.asks=this.asksUpdater(e),this.bids=this.bidsUpdater(e),this.barAsk=this.asks[this.asks.length-1].totalVolume,this.barBid=this.bids[this.bids.length-1].totalVolume,this.timeout=setTimeout(()=>this.scrollTopBookToBottom(),2e3),this.$store.commit("removeLoaderTask",1)},this.bookUpdateListener=t=>{let e=JSON.parse(JSON.stringify(t));this.asks=this.asksUpdater(e),this.bids=this.bidsUpdater(e),this.barAsk=this.asks[0].totalVolume,this.barBid=this.bids[this.bids.length-1].totalVolume,this.showLoader=!1},this.reset=t=>{this.showLoader=!0,this.count=1,this.asks=[],this.bids=[],this.orderbookdata={},this.snapF=0,this.marketId=t.Id},b.$on("change-vega-market",this.reset)},mounted(){this.$root.$on("tickerClicked",()=>{this.scrollTopBookToBottom()})},destroyed(){b.$on("change-vega-market",this.reset),clearInterval(this.timeout)}},$r=Tr,Lr=(a("5f75"),Object(S["a"])($r,yr,Cr,!1,null,"209838c0",null)),Ar=Lr.exports,Sr={name:"book-pane",components:{OrderBook:Ar},data(){return{height:0,timeout:""}},created(){this.timeout=setInterval(()=>{this.height=this.$refs.sidePane.clientHeight},10)},mounted(){},updated(){this.height=this.$refs.sidePane.clientHeight},destroyed(){clearInterval(this.timeout)}},Nr=Sr,Dr=(a("1f5e"),Object(S["a"])(Nr,br,kr,!1,null,"1a598139",null)),Pr=Dr.exports,Mr={name:"market-view",components:{PricePane:Xa,TradePane:fr,BookPane:Pr},methods:{sidebarTrigger(t){switch(t){case"1":this.$store.commit("toggleTradePaneClosed");break;case"2":this.$store.commit("toggleBookPaneClosed");break}}}},xr=Mr,Br=(a("4383"),Object(S["a"])(xr,Ka,Fa,!1,null,null,null)),Ir=Br.exports,Or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trade-view"},[a("positions",{attrs:{open:"positions"==t.openAccordionPosition},on:{"toggle-open":function(e){return t.toggleOpenPosition()}}}),a("active-orders",{attrs:{open:"activeOrders"==t.openAccordionOrders},on:{"toggle-open":function(e){return t.toggleOpenOrders()}}}),a("recent-trades",{attrs:{open:"recentTrades"==t.openAccordionTrades},on:{"toggle-open":function(e){return t.toggleOpenTrades()}}})],1)},Er=[],Vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isLoggedIn?a("div",{staticClass:"recent-trades  uk-visible@m "},[a("div",{staticClass:"accordionToggleButton",class:{opened:t.open,close:t.open},staticStyle:{"text-align":"center"},on:{click:t.toggleOpen}},[t._v("\n        Recent Trades\n    ")]),a("div",[a("div",{class:{closed:t.open},attrs:{id:"activeTrades"}},[a("div",{attrs:{id:"recentSimplebar","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(0),a("tbody",t._l(t.trades,(function(e){return a("tr",[a("td",{staticClass:"bg-ebony-clay c-white"},[t._v(t._s(e.marketName))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.size))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.price.toFixed(5)))]),a("td",[t._v(t._s((e.price*e.size).toFixed(5)))]),a("td",{class:{"c-green":"Buy"==e.aggressor,"c-red":"Sell"==e.aggressor}},[t._v(t._s(e.aggressor))]),a("td",[t._v(t._s(e.createdAt))])])})),0)])])])])]):t._e()},Kr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Market")]),a("th",[t._v("Size")]),a("th",[t._v("Price")]),a("th",[t._v("Total Price")]),a("th",[t._v("Buy/Sell")]),a("th",[t._v("Created At")])])])}],Fr={name:"recent-trades",props:{open:{type:Boolean}},data(){return{trades:this.$store.getters.recentTrades,isLoggedIn:!1,partiesId:T.currentActiveKey}},apollo:{$subscribe:{positions:{query:ya.a`subscription name($partyId: String!) {
                    trades (partyId: $partyId) {
                        id
                        market {
                          name
                        }
                        price
                        size
                        aggressor
                        buyOrder
                        sellOrder
                        createdAt
                    }
                  }`,variables(){return{partyId:this.partiesId}},result({data:t,loading:e}){let a=t.trades;this.subcribeToTrades(a)}}}},mounted(){this.userLoginListener=()=>this.getRecentTrades(),this.userLogoutListener=()=>this.setTradesEmpty(),v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)},methods:{async getRecentTrades(){this.$store.commit("recentTrades",[]),this.trades=[],this.partiesId=T.currentActiveKey;const t=await oe.get_trades_by_party(this.partiesId);if(200==t.status){for(let e=0;e<t.data.trades.length;e++)this.addNewTrade(t.data.trades[e]);this.trades=this.$store.getters.recentTrades}else this.$showErrorMsg({message:"Something went wrong. Couldn't fetch recent Trades"})},setTradesEmpty(){this.$store.commit("recentTrades",[]),this.trades=[]},subcribeToTrades(t){for(let e=0;e<t.length;e++){let a=[];a.marketName=t[e].market.name,a.price=Number(t[e].price)/1e5,a.size=Number(t[e].size),a.aggressor=t[e].aggressor,a.buyOrderID=t[e].buyOrderID,a.sellOrderID=t[e].sellOrderID,a.createdAt=t[e].createdAt,this.$store.commit("addToRecentTrades",a)}},addNewTrade(t){let e=[];e.marketName=this.getNameforMarketID(t.marketID),e.price=Number(t.price)/1e5,e.size=Number(t.size),e.aggressor=t.aggressor,e.buyOrderID=t.buyOrder,e.sellOrderID=t.sellOrder,e.createdAt=t.timestamp,this.$store.commit("addToRecentTrades",e)},getNameforMarketID(t){this.$store.getters.mappedMarkets;if(this.$store.getters.mappedMarkets.has(t)){let e=this.$store.getters.mappedMarkets.get(t);return e.name}return"undefined"},toggleOpen(){this.$emit("toggle-open")},formatDateTime(t){return pt(new Date(t))}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)}},Ur=Fr,Rr=(a("2527"),Object(S["a"])(Ur,Vr,Kr,!1,null,"25e42bea",null)),zr=Rr.exports,Hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isLoggedIn?a("div",{staticClass:"active-orders uk-visible@m"},[a("div",{staticClass:"accordionToggleButton",class:{opened:t.open,close:t.open},staticStyle:{"text-align":"center"},on:{click:t.toggleOpen}},[t._v("Active Orders\n    ")]),a("div",[a("div",{class:{closed:t.open},attrs:{id:"activeTrades"}},[a("div",{attrs:{id:"recentSimplebar","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(0),a("tbody",[t._l(t.orders,(function(e){return a("tr",[a("td",{staticClass:"bg-ebony-clay c-white"},[t._v(t._s(e.market))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.size))]),a("td",{staticClass:"c-red"},[t._v(t._s(e.remaining))]),a("td",{staticClass:"c-green"},[t._v(t._s(Number(e.price)/1e5))]),a("td",{class:{"c-green":"Buy"==e.side,"c-red":"Sell"==e.side}},[t._v(t._s(e.side))]),a("td",[t._v(t._s(e.orderExecType))]),a("td",[t._v(t._s(e.creationTime))]),a("td",{staticClass:"c-green"},[t._v(t._s(e.status))]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.cancelOrder(e)}}},[a("span",{staticClass:"mr5Close"},[t._v("Cancel")])])])])})),0!=t.orders.length?a("div",[a("tr",[a("button",{staticClass:"btn",on:{click:function(e){return t.cancelAllOrders()}}},[t._v("CANCEL ALL ORDERS")]),a("br"),a("br")])]):t._e()],2)])])])])]):t._e()},jr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Market")]),a("th",[t._v("Size")]),a("th",[t._v("Remaining")]),a("th",[t._v("Price")]),a("th",[t._v("Side")]),a("th",[t._v("Order Exec. Type")]),a("th",[t._v("Created At")]),a("th",[t._v("Status")]),a("th",[t._v("Cancel")])])])}],qr={name:"active-orders",components:{},props:{open:{type:Boolean}},data(){return{orders:this.$store.getters.activeOrders,tableHeight:"",orders_array:[],isLoggedIn:!1,partiesId:T.currentActiveKey}},apollo:{$subscribe:{orders:{query:ya.a`subscription name($partyId: String!) {
                  orders (partyId:$partyId) {
                      id
                      price
                      side
                      size
                      remaining
                      timeInForce
                      market {
                        id
                        name
                      }
                      status
                      createdAt
                  }
                }`,variables(){return{partyId:this.partiesId}},result({data:t,loading:e}){let a=t.orders;for(let s=0;s<a.length;s++)if(null==a[s])this.$showErrorMsg({message:" Recently entered order has been rejected by the Vega Network"});else if("Rejected"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size;this.$showErrorMsg({message:t+" has been rejected by the Vega Network"})}else if("Filled"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size;this.$showSuccessMsg({message:t+" has been filled"})}else if("Stopped"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size;this.$showErrorMsg({message:t+" has been stopped by the Vega Network"})}else if("PartiallyFilled"==a[s].status){let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size+" has been partially filled (Filled = "+(Number(a[s].size)-Number(a[s].remaining))+", Remaining = "+Number(a[s].remaining);this.$showSuccessMsg({message:t+" by the Vega Network"}),this.addNewOrder(a[s])}else if("Cancelled"==a[s].status){this.$store.commit("removeFromActiveOrders",a[s].id);let t=a[s].side+" order for the market "+a[s].market.name+" of size = "+a[s].size+" with orderID - "+a[s].id;this.$showSuccessMsg({message:t+" has been successfully cancelled"})}else"Active"==a[s].status&&this.addNewOrder(a[s])}}}},mounted(){this.userLoginListener=()=>this.getActiveOrders(),this.userLogoutListener=()=>this.deleteOrders(),v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)},methods:{addNewOrder(t){let e=this.mapNewOrder(t);this.$store.commit("addToActiveOrders",e)},async getActiveOrders(){this.$store.commit("activeOrders",[]),this.orders=[],this.partiesId=T.currentActiveKey;const t=await oe.get_orders_by_party(this.partiesId);if(200==t.status){for(let e=0;e<t.data.orders.length;e++){let a=this.mapNewOrder_API(t.data.orders[e]);this.$store.commit("addToActiveOrders",a)}this.orders=this.$store.getters.activeOrders}else this.$showErrorMsg({message:"Something went wrong. Couldn't fetch orders"})},deleteOrders(){this.$store.commit("activeOrders",[]),this.orders=[]},mapNewOrder_API(t){let e={};return e.id=t.id,e.price=t.price,e.side=t.side,e.size=t.size,e.remaining=t.remaining,e.marketID=t.marketID,e.market=this.getNameforMarketID(t.marketID),e.status=t.status,e.orderExecType=t.timeInForce,e.creationTime=t.createdAt,e},getNameforMarketID(t){this.$store.getters.mappedMarkets;if(this.$store.getters.mappedMarkets.has(t)){let e=this.$store.getters.mappedMarkets.get(t);return e.name}return"undefined"},mapNewOrder(t){let e={};return e.id=t.id,e.price=t.price,e.side=t.side,e.size=t.size,e.remaining=t.remaining,e.market=t.market.name,e.marketID=t.market.id,e.status=t.status,e.orderExecType=t.timeInForce,e.creationTime=t.createdAt,e},toggleOpen(){this.$emit("toggle-open")},formatDateTime(t){return pt(new Date(t))},async cancelAllOrders(){for(let t=0;t<this.orders.length;t++){await this.cancelOrder(this.orders[t])}this.getActiveOrders()},async cancelOrder(t){this.$store.commit("addLoaderTask",1,!1);try{const a=await this.$apollo.mutate({mutation:ya.a`mutation prepareOrderCancel($id: ID!, $partyId: String!, $marketId: String!) {
            prepareOrderCancel(id:$id, partyId:$partyId,marketId:$marketId) {
              blob
            }
          }`,variables:{id:t.id,partyId:this.partiesId,marketId:t.marketID}});let s=a.data.prepareOrderCancel.blob;try{const e=await oe.signtx(s,!0);if(200==e.status){let e="Order Cancellation request for orderID: "+t.id+" has been successfully signed and propogated into the chain.";this.$showSuccessMsg({message:e})}else{let t="Deletion request's signature transaction failed. Please try again";this.$$showErrorMsg({message:t})}}catch(e){let t=" Order signature for deletion request returned error. Please try again";this.$$showErrorMsg({message:t})}}catch(a){let t=" Order deletion request preparation returned error. Please try again";this.$$showErrorMsg({message:t})}}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener),v.$off(f.pubKeyChanged,this.userLoginListener)}},Qr=qr,Gr=(a("f97b"),Object(S["a"])(Qr,Hr,jr,!1,null,"5f36465f",null)),Wr=Gr.exports,Jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isLoggedIn?a("div",{staticClass:"positions uk-visible@m"},[a("div",{staticClass:"accordionToggleButton",class:{opened:t.open,close:t.open},staticStyle:{"text-align":"center"},on:{click:t.toggleOpen}},[t._v("Positions\n    ")]),a("div",[a("div",{class:{closed:t.open},attrs:{id:"activeTrades"}},[a("div",{attrs:{id:"recentSimplebar","data-simplebar":"","data-simplebar-auto-hide":"false"}},[a("table",[t._m(0),a("tbody",[t._l(t.positions_array,(function(e){return a("tr",[a("td",{staticClass:"bg-ebony-clay c-white"},[t._v(t._s(e.value.market_name))]),a("td",{},[t._v(t._s(e.value.averageEntryPrice))]),a("td",{class:{"c-green":e.value.openVolume>=0,"c-red":0>e.value.openVolume}},[t._v(t._s(e.value.openVolume))]),a("td",{class:{"c-green":e.value.realisedPNL>=0,"c-red":0>e.value.realisedPNL}},[t._v(t._s(e.value.realisedPNL))]),a("td",{class:{"c-green":e.value.unrealisedPNL>=0,"c-red":0>e.value.unrealisedPNL}},[t._v(t._s(e.value.unrealisedPNL))]),a("td",{staticClass:"c-pancho"},[t._v(t._s(e.value.initialLevel))]),a("td",{staticClass:"c-pancho"},[t._v(t._s(e.value.searchLevel))]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.closePosition(e.value)}}},[a("span",{staticClass:"mr5Close"},[t._v("Close")])])]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.cancelAllOrders(e.value)}}},[a("span",{staticClass:"mr5Close"},[t._v("Cancel All")])])]),a("td",[a("a",{staticClass:"fs14 os-semibold c-white",attrs:{href:"javascript:undefined"},on:{click:function(a){return t.closePositionAndCancelOrders(e.value)}}},[a("span",{staticClass:"mr5Close"},[t._v("Close & Cancel All")])])])])})),0!=t.positions_array.length?a("div",[a("tr",[a("td",[a("button",{staticClass:"btn",on:{click:function(e){return t.closeAllPositions()}}},[t._v("EXIT ALL POSITIONS")])]),a("td",[a("button",{staticClass:"btn2",on:{click:function(e){return t.closeAllPositionsAndCancelAllOrders()}}},[t._v("EXIT ALL POSITIONS & CANCEL ALL ORDERS")])])]),a("br")]):t._e()],2)])])])])]):t._e()},Yr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"uk-visible"},[a("tr",[a("th",[t._v("Market")]),a("th",[t._v("Average Entry Price")]),a("th",[t._v("Open Volume")]),a("th",[t._v("Realised PNL")]),a("th",[t._v("Unrealised PNL")]),a("th",[t._v("Initial Margin")]),a("th",[t._v("Search Level Margin")]),a("th",[t._v("Exit Position")]),a("th",[t._v("Cancel All Orders")]),a("th",[t._v("Exit & Cancel")])])])}],Xr=a("8e5f"),Zr=a.n(Xr),ti={name:"positions",components:{Spinner:Le,Multiselect:Zr.a},props:{parentHeight:Number,open:{type:Boolean}},data(){return{positions:[],markets:[],subs_positions:new Map,positions_array:[],isLoggedIn:!1,partiesId:T.currentActiveKey,totalRealizedPNL_VUSD:0,totalUnrealizedPNL_VUSD:0,totalRealizedPNL_BTC:0,totalUnrealizedPNL_BTC:0,dropdownSelections:[],dropdownMarkets:this.$store.getters.markets,comparator_firstTime:!0}},apollo:{$subscribe:{positions:{query:ya.a`subscription name($partyId: String!) {
                    positions (partyId: $partyId) {
                        market {
                          id
                          name
                        }
                        openVolume
                        realisedPNL
                        unrealisedPNL
                        averageEntryPrice
                        margins{
                          maintenanceLevel
                          searchLevel
                          initialLevel
                          collateralReleaseLevel
                        }
                      }
                    }`,variables(){return{partyId:this.partiesId}},result({data:t,loading:e}){let a=t.positions;this.subcribeToPositions(a)}}}},mounted(){this.userLoginListener=()=>this.setPubKey(),this.userLogoutListener=()=>this.positions=[],v.$on(f.userLogin,this.userLoginListener),v.$on(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)},methods:{setPubKey(){this.positions_array=[],this.positions=[],this.dropdownMarkets=[];let t=this.$store.getters.markets;for(let e=0;e<t.length;e++){let a={};a.id=t[e].id,a.name=t[e].data.name,this.dropdownMarkets.push(a)}this.markets=this.$store.getters.mappedMarketsbyName,this.$store.commit("totalRealizedPNL_VUSD",0),this.$store.commit("totalUnrealizedPNL_VUSD",0),this.$store.commit("totalRealizedPNL_BTC",0),this.$store.commit("totalUnrealizedPNL_BTC",0),this.partiesId=T.currentActiveKey},subcribeToPositions(t){let e=[];e.averageEntryPrice=(Number(t.averageEntryPrice)/1e5).toFixed(5),e.openVolume=Number(t.openVolume),e.realisedPNL=(Number(t.realisedPNL)/1e5).toFixed(5),e.unrealisedPNL=(Number(t.unrealisedPNL)/1e5).toFixed(5),e.maintenanceLevel=(Number(t.margins[0].maintenanceLevel)/1e5).toFixed(5),e.searchLevel=(Number(t.margins[0].searchLevel)/1e5).toFixed(5),e.collateralReleaseLevel=(Number(t.margins[0].collateralReleaseLevel)/1e5).toFixed(5),e.initialLevel=(Number(t.margins[0].initialLevel)/1e5).toFixed(5),e.market_name=t.market.name,e.marketID=t.market.id,this.subs_positions.set(String(t.market.id),e),Number(e.searchLevel)>Number(e.initialLevel)&&this.comparator_firstTime&&(this.$showErrorMsg({message:"The deployed Margin for the market '"+e.market_name+"' has dropped below the “search margin level”. You may be liquidated"}),this.comparator_firstTime=!1),Number(e.maintenanceLevel)>Number(e.initialLevel)&&(this.$showErrorMsg({message:"The deployed Margin for the market '"+e.market_name+"' has dropped below the maintainance margin level”. The Vega Network has initiated the Liquidation process"}),this.comparator_firstTime=!1),this.positions_array=Array.from(this.subs_positions,([t,e])=>({name:t,value:e})),this.totalRealizedPNL_VUSD=0,this.totalUnrealizedPNL_VUSD=0,this.totalRealizedPNL_BTC=0,this.totalUnrealizedPNL_BTC=0;for(let a=0;a<this.positions_array.length;a++)if(this.$store.getters.mappedMarketsbyName.has(this.positions_array[a].value.market_name)){let t=this.$store.getters.mappedMarketsbyName.get(this.positions_array[a].value.market_name);"VUSD"==t.quoteName&&(this.totalRealizedPNL_VUSD=Number(this.totalRealizedPNL_VUSD)+Number(this.positions_array[a].value.realisedPNL),this.totalUnrealizedPNL_VUSD=Number(this.totalUnrealizedPNL_VUSD)+Number(this.positions_array[a].value.unrealisedPNL),this.$store.commit("totalRealizedPNL_VUSD",this.totalRealizedPNL_VUSD),this.$store.commit("totalUnrealizedPNL_VUSD",this.totalUnrealizedPNL_VUSD)),"BTC"==t.quoteName&&(this.totalRealizedPNL_BTC=Number(this.totalRealizedPNL_BTC)+Number(this.positions_array[a].value.realisedPNL),this.totalUnrealizedPNL_BTC=Number(this.totalUnrealizedPNL_BTC)+Number(this.positions_array[a].value.unrealisedPNL),this.$store.commit("totalRealizedPNL_BTC",this.totalRealizedPNL_BTC),this.$store.commit("totalUnrealizedPNL_BTC",this.totalUnrealizedPNL_BTC))}},toggleOpen(){this.$emit("toggle-open")},userLogoutListener(){this.positions_array=[],this.positions=[],this.$store.commit("totalRealizedPNL",0),this.$store.commit("totalUnrealizedPNL",0)},async closeAllPositions(){let t=this.positions_array;for(let e=0;e<t.length;e++)if(0!=t[e].value.openVolume){await this.closePosition(t[e].value)}},async closeAllPositionsAndCancelAllOrders(){let t=this.positions_array;for(let e=0;e<t.length;e++){await this.closePositionAndCancelOrders(t[e].value)}this.$showSuccessMsg({message:"All Positions have been closed"}),this.$showSuccessMsg({message:"All Active Orders have been cancelled"})},async closePositionAndCancelOrders(t){await this.closePosition(t);this.$showSuccessMsg({message:"The Position for the market '"+t.market_name+"' has been closed"});this.$store.getters.activeOrders,await this.cancelAllOrders(t)},async cancelAllOrders(t){let e=this.$store.getters.activeOrders;for(let a=0;a<e.length;a++)if(t.marketID==e[a].marketID){await this.cancelOrder(e[a])}this.$showSuccessMsg({message:"All active Orders for the market '"+t.market_name+"' have been cancelled"})},async closePosition(t){if(Number(t.openVolume)>0){const e=await oe.submitOrder_market(t.marketID,t.openVolume,"Sell","MARKET","FOK");200==e.status?this.$showSuccessMsg({message:t.market_name+" - "+e.message}):(this.$showErrorMsg({message:t.market_name+" - "+e.message}),this.$showErrorMsg({message:"Could\t close position. Please try again"}))}else if(Number(t.openVolume)<0){const e=await oe.submitOrder_market(t.marketID,Math.abs(Number(t.openVolume)).toString(),"Buy","MARKET","FOK");200==e.status?this.$showSuccessMsg({message:t.market_name+" - "+e.message}):(this.$showErrorMsg({message:t.market_name+" - "+e.message}),this.$showErrorMsg({message:"Could\t close position. Please try again"}))}else 0==Number(t.openVolume)&&this.$showErrorMsg({message:"There are no active positions for the selected market"})},async cancelOrder(t){this.$store.commit("addLoaderTask",1,!1);try{const a=await this.$apollo.mutate({mutation:ya.a`mutation prepareOrderCancel($id: ID!, $partyId: String!, $marketId: String!) {
            prepareOrderCancel(id:$id, partyId:$partyId,marketId:$marketId) {
              blob
            }
          }`,variables:{id:t.id,partyId:this.partiesId,marketId:t.marketID}});let s=a.data.prepareOrderCancel.blob;try{const e=await oe.signtx(s,!0);if(200==e.status){let e="Order Cancellation request for orderID: "+t.id+" has been successfully signed and propogated into the chain.";this.$showSuccessMsg({message:e})}else{let t="Deletion request's signature transaction failed. Please try again";this.$$showErrorMsg({message:t})}}catch(e){let t=" Order signature for deletion request returned error. Please try again";this.$$showErrorMsg({message:t})}}catch(a){let t=" Order deletion request preparation returned error. Please try again";this.$$showErrorMsg({message:t})}}},destroyed(){v.$off(f.userLogin,this.userLoginListener),v.$off(f.userLogout,this.userLogoutListener),v.$on(f.pubKeyChanged,this.userLoginListener)}},ei=ti,ai=(a("e9bc"),Object(S["a"])(ei,Jr,Yr,!1,null,"3317c4c4",null)),si=ai.exports,ri={name:"trade-view",components:{RecentTrades:zr,ActiveOrders:Wr,Positions:si},data(){return{openAccordionTrades:"activeTrades",openAccordionPosition:"positions",openAccordionOrders:"activeOrders"}},methods:{toggleOpenPosition(){"positions"===this.openAccordionPosition?this.openAccordionPosition="":this.openAccordionPosition="positions"},toggleOpenOrders(){"activeOrders"==this.openAccordionOrders?this.openAccordionOrders="":this.openAccordionOrders="activeOrders"},toggleOpenTrades(){"recentTrades"==this.openAccordionTrades?this.openAccordionTrades="":this.openAccordionTrades="recentTrades"}}},ii=ri,oi=(a("eace"),Object(S["a"])(ii,Or,Er,!1,null,"59ad786a",null)),ni=oi.exports,li={components:{MarketView:Ir,TradeView:ni},created(){}},ci=li,di=Object(S["a"])(ci,Ea,Va,!1,null,null,null),ui=di.exports;s["default"].use(ve["a"]);const mi=new ve["a"]({routes:[{path:"/",name:"home",component:ui,meta:{pageTitle:"VEGA Protocol: Testnet"}},{path:"/active-orders",name:"active-orders-mobile",component:Ta,meta:{pageTitle:"Active Orders"}},{path:"/recent-trades",name:"recent-trades-mobile",component:Da,meta:{pageTitle:"Active Trades"}},{path:"/positions",name:"positions-mobile",component:Oa,meta:{pageTitle:"Positions"}},{path:"/balance",component:Ot,meta:{pageTitle:"Vega Protocol - Balance Information",needLogin:!1},children:[{path:"",name:"wallet-summary-vega",component:va,meta:{pageTitle:"Vega Protocol - Balance Information",needLogin:!1}}]},{path:"/history",name:"history",component:da,meta:{pageTitle:"Vega Protocol - Account History",needLogin:!1}}]});mi.beforeEach((t,e,a)=>t.meta.needLogin&&!w.isUserLoggedIn()?(v.$emit(f.userSessionExpired),a(!1)):(document.title=t.meta.pageTitle,a())),mi.afterEach(()=>{s["default"].nextTick().then(()=>{window.scrollTo(0,1),window.scrollTo(0,0)})});var hi=mi,gi=(a("1941"),a("79d8"),a("74ca")),pi=a("c0cc"),vi=a("2bf2"),fi=a("522d");a("d238"),a("d9ae"),a("422e"),a("cd78"),a("5b47"),a("ac66"),a("3c51"),a("2b15"),a("c5d6"),a("7afc"),a("72ec"),a("3945"),a("bf7d"),a("ef9c"),a("3132"),a("255e"),a("dbc7");const bi=new pi["a"]({uri:"wss://n08.n.vega.xyz/query",options:{reconnect:!0,timeout:15e4}}),ki=new gi["a"]({link:bi,cache:new vi["a"]({addTypename:!0})});s["default"].use(fi["a"]);const yi=new fi["a"]({defaultClient:ki});w.get($.pingUuid)||w.set($.pingUuid,ut()),v.$on(f.userLogin,()=>{ct.commit("isLoggedIn",!0)}),v.$on(f.userLogout,()=>{const t=ct.getters.isLoggedIn;ct.commit("isLoggedIn",!1),w.clearVegaSession(),("/"!==hi.currentRoute.path||t)&&hi.replace("/").catch(()=>{})});const Ci=w.isUserLoggedIn(),_i=w.get(T.name),wi=w.get($.mqtt);s["default"].config.productionTip=!1,new s["default"]({router:hi,store:ct,apolloProvider:yi,render:t=>t(pe)}).$mount("#app"),Ci?v.$emit(f.userLogin,{username:_i,mqttKey:wi}):v.$emit(f.userLogout)},"58fb":function(t,e,a){},"5b47":function(t,e,a){},"5c74":function(t,e,a){"use strict";var s=a("7deb"),r=a.n(s);r.a},"5f75":function(t,e,a){"use strict";var s=a("d804"),r=a.n(s);r.a},"5faf":function(t,e,a){"use strict";var s=a("7ffc"),r=a.n(s);r.a},"61cc":function(t,e,a){"use strict";var s=a("bef4"),r=a.n(s);r.a},6296:function(t,e,a){"use strict";var s=a("c675"),r=a.n(s);r.a},"6efe":function(t,e,a){"use strict";var s=a("fb6b"),r=a.n(s);r.a},"72ec":function(t,e,a){},"792f":function(t,e,a){"use strict";var s=a("f6c6"),r=a.n(s);r.a},"79b9":function(t,e,a){"use strict";var s=a("2977"),r=a.n(s);r.a},"79d8":function(t,e,a){},"7afc":function(t,e,a){},"7dd1":function(t,e,a){"use strict";var s=a("5130"),r=a.n(s);r.a},"7deb":function(t,e,a){},"7e56":function(t,e,a){"use strict";var s=a("d79d"),r=a.n(s);r.a},"7ffc":function(t,e,a){},"81b0":function(t,e,a){},"8be5":function(t,e,a){},"97e7":function(t,e,a){"use strict";var s=a("e1d9"),r=a.n(s);r.a},"987e":function(t,e,a){},a0d0:function(t,e,a){"use strict";var s=a("0dd3"),r=a.n(s);r.a},a64e:function(t,e,a){"use strict";var s=a("b544"),r=a.n(s);r.a},aad7:function(t,e,a){"use strict";var s=a("ad1b"),r=a.n(s);r.a},ac66:function(t,e,a){},ad1b:function(t,e,a){},ad26:function(t,e,a){"use strict";var s=a("2dab"),r=a.n(s);r.a},ae58:function(t,e,a){},b544:function(t,e,a){},bef4:function(t,e,a){},bf3f:function(t,e,a){},bf7d:function(t,e,a){},c469:function(t,e,a){"use strict";var s=a("0afe"),r=a.n(s);r.a},c5d2:function(t,e,a){},c5d6:function(t,e,a){},c675:function(t,e,a){},c995:function(t,e,a){},cd78:function(t,e,a){},ce26:function(t,e,a){},cfd8:function(t,e,a){"use strict";var s=a("c995"),r=a.n(s);r.a},d070:function(t,e,a){"use strict";var s=a("4722"),r=a.n(s);r.a},d238:function(t,e,a){},d2d5:function(t,e,a){"use strict";var s=a("2ef6"),r=a.n(s);r.a},d79d:function(t,e,a){},d804:function(t,e,a){},d9ae:function(t,e,a){},da2b:function(t,e,a){"use strict";var s=a("c5d2"),r=a.n(s);r.a},dbc7:function(t,e,a){},e167:function(t,e,a){"use strict";var s=a("00d3"),r=a.n(s);r.a},e1d9:function(t,e,a){},e9bc:function(t,e,a){"use strict";var s=a("06d2"),r=a.n(s);r.a},eace:function(t,e,a){"use strict";var s=a("faae"),r=a.n(s);r.a},ef9c:function(t,e,a){},f087:function(t,e,a){"use strict";var s=a("1e94"),r=a.n(s);r.a},f33d:function(t,e,a){},f637:function(t,e,a){"use strict";var s=a("465e"),r=a.n(s);r.a},f6c6:function(t,e,a){},f97b:function(t,e,a){"use strict";var s=a("f33d"),r=a.n(s);r.a},faae:function(t,e,a){},fb6b:function(t,e,a){}});
//# sourceMappingURL=app.8e3a9003.js.map